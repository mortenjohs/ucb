install.packages("ggmap", lib="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
library(ggmap)
ggmap(get_stamenmap(bbox, zoom = 13))
bbox <- c(left = -97.132, bottom = 31.536, right = -97.105, top = 31.560)
ggmap(get_stamenmap(bbox, zoom = 13))
ggmap(get_stamenmap(bbox, maptype = "terrain", zoom = 14))
get_openstreetmap(bbox = c(left = -95.80204, bottom = 29.38048, right =
-94.92313, top = 30.14344), scale = 606250, format = c("png", "jpeg",
"svg", "pdf", "ps"), messaging = FALSE, urlonly = FALSE,
filename = "ggmapTemp", color = c("color", "bw"), ...)
get_openstreetmap(bbox = c(left = -95.80204, bottom = 29.38048, right =
-94.92313, top = 30.14344), scale = 606250, format = c("png", "jpeg",
"svg", "pdf", "ps"), messaging = FALSE, urlonly = FALSE,
filename = "ggmapTemp", color = c("color", "bw"))
get_openstreetmap(bbox = c(left = -95.80204, bottom = 29.38048, right =
-94.92313, top = 30.14344), scale = 606250, format = "png"), messaging = FALSE, urlonly = FALSE,
filename = "ggmapTemp", color = "bw")
get_openstreetmap(bbox = c(left = -95.80204, bottom = 29.38048, right =
-94.92313, top = 30.14344), scale = 606250, format = "png", messaging = FALSE, urlonly = FALSE,
filename = "ggmapTemp", color = "bw")
?get_openstreetmap
load("~/SpiderOak Hive/aram/faa/faa.RData")
View(block)
dea_block <- block %>%
filter(requestor == "Chris Cooper") %>%
left_join(reg)
# load required packages
library(dplyr)
library(readr)
library(tidyr)
dea_block <- block %>%
filter(requestor == "Chris Cooper") %>%
left_join(reg)
dea_block <- block %>%
filter(requestor == "Chris Cooper") %>%
left_join(reg, by=c("aircraft"="reg")
)
View(dea_block)
load("~/SpiderOak Hive/aram/faa/faa.RData")
# load required packages
library(dplyr)
library(readr)
library(tidyr)
library(dbplyr)
library(RPostgreSQL)
library(rpostgis)
library(rgeos)
library(rgdal)
library(lubridate)
drv <- dbDriver("PostgreSQL")
con <- dbConnect(drv, dbname = "planes", host = "localhost")
# load data for conversion to tracks
pgInsert(con, name = "adsb_reynolds", data.obj=tmp, geom = "geom", df.mode = FALSE,
partial.match = FALSE, overwrite = TRUE, new.id = NULL,
row.names = FALSE, upsert.using = NULL, alter.names = FALSE,
encoding = NULL, return.pgi = FALSE)
load("~/SpiderOak Hive/aram/faa/faa.RData")
pgInsert(con, name = "adsb_reynolds", data.obj=tmp, geom = "geom", df.mode = FALSE,
partial.match = FALSE, overwrite = TRUE, new.id = NULL,
row.names = FALSE, upsert.using = NULL, alter.names = FALSE,
encoding = NULL, return.pgi = FALSE)
# set up local DB connection
drv <- dbDriver("PostgreSQL")
con <- dbConnect(drv, dbname = "planes", host = "localhost")
pgInsert(con, name = "adsb_reynolds", data.obj=tmp, geom = "geom", df.mode = FALSE,
partial.match = FALSE, overwrite = TRUE, new.id = NULL,
row.names = FALSE, upsert.using = NULL, alter.names = FALSE,
encoding = NULL, return.pgi = FALSE)
save.image("~/SpiderOak Hive/aram/faa/faa.RData")
fedds1 <- read_csv("https://raw.githubusercontent.com/BuzzFeedNews/2016-04-federal-surveillance-planes/master/data/feds/feds1.csv")
library(readr)
feds1 <- read_csv("https://raw.githubusercontent.com/BuzzFeedNews/2016-04-federal-surveillance-planes/master/data/feds/feds1.csv")
View(feds1)
feds1 <- read_csv("https://raw.githubusercontent.com/BuzzFeedNews/2016-04-federal-surveillance-planes/master/data/feds/feds1.csv")
feds1 <- read_csv("https://raw.githubusercontent.com/BuzzFeedNews/2016-04-federal-surveillance-planes/master/data/feds/feds1.csv")
feds1 <- read_csv("https://raw.githubusercontent.com/BuzzFeedNews/2016-04-federal-surveillance-planes/master/data/feds/feds1.csv")
View(feds1)
planes_features <- read_csv("https://raw.githubusercontent.com/BuzzFeedNews/2017-08-spy-plane-finder/master/data/planes_features.csv")
View(planes_features)
library(readr)
library(dplyr)
tweets <- read_csv("https://media.githubusercontent.com/media/fivethirtyeight/russian-troll-tweets/master/IRAhandle_tweets.csv")
View(head(tweets))
glimpse(tweets)
tweets <- tweets %>%
mutate(date = as.Date(publish_date))
glimpse(tweets)
tweets <- tweets %>%
mutate(date = as.Date(publish_date, format = "%d/%m/%Y %H:%M))
)
tweets <- tweets %>%
mutate(date = as.Date(publish_date, format = "%d/%m/%Y %H:%M))
tweets <- tweets %>%
mutate(date = as.Date(publish_date, format = "%d/%m/%Y %H:%M)))
3/5
package_df <- as.data.frame(installed.packages("/Library/Frameworks/R.framework/Versions/3.4/Resources/library"))
View(package_df)
package_list <- as.character(package_df$Package)
install.packages(package_list)
install.packages(package_list)
install.packages(c("foreign", "survival", "xts"))
install.packages("xts")
setwd("~/Dropbox/ucb/2018/dataviz/img-rename")
files <- list.files("img")
for (f in files) {
print(f)
file.rename(paste0("img/",f), paste0("img/class3_",paste0(substr(f,nchar(f)-7,nchar(f)))))
}
for (f in files) {
print(f)
file.rename(paste0("img/",f), paste0("img/class7_",paste0(substr(f,8,nchar(f)))))
}
files <- list.files("img")
for (f in files) {
print(f)
file.rename(paste0("img/",f), paste0("img/class7_",paste0(substr(f,8,nchar(f)))))
}
for (f in files) {
print(f)
file.rename(paste0("img/",f), paste0("img/class7_",paste0(substr(f,10,nchar(f)))))
}
files <- list.files("img")
for (f in files) {
print(f)
file.rename(paste0("img/",f), paste0("img/class7_",paste0(substr(f,10,nchar(f)))))
}
substr(f,9,nchar(f)
)
for (f in files) {
print(f)
file.rename(paste0("img/",f), paste0("img/class7_",paste0(substr(f,10,nchar(f)))))
}
files <- list.files("img")
for (f in files) {
print(f)
file.rename(paste0("img/",f), paste0("img/class7_",paste0(substr(f,10,nchar(f)))))
}
files <- list.files("img")
for (f in files) {
print(f)
file.rename(paste0("img/",f), paste0("img/class7_",paste0(substr(f,18,nchar(f)))))
}
files <- list.files("img")
files <- list.files("img")
for (f in files) {
print(f)
file.rename(paste0("img/",f), paste0("img/class7_",paste0(substr(f,19,nchar(f)))))
}
setwd("~/Dropbox/ucb/2018/dataviz/img-rename")
files <- list.files("img")
n <- 2
for (f in files) {
print(f)
file.rename(paste0("img/",f), paste0("img/",f),paste0("img/static_charts_r",n))
n <- n+1
}
n <- 2
for (f in files) {
print(f)
file.rename(paste0("img/",f),paste0("img/static_charts_r",n))
n <- n+1
}
files <- list.files("img")
n <- 2
for (f in files) {
print(f)
file.rename(paste0("img/",f),paste0("img/static_charts_r_",n,".jpg"))
n <- n+1
}
setwd("~/Dropbox/ucb/2018/dataviz/raw-data/week8")
# load required packages
library(ggplot2)
library(dplyr)
library(readr)
# load and process data
nations <- read_csv("nations.csv")
nations <- nations %>%
mutate(gdp_tn = gdp_percap*population/10^12)
# chart1
top_nations <- nations %>%
filter(grepl("CHN|USA|JPN|DEU",iso3c))
ggplot(top_nations, aes(x=year,y=gdp_tn,color=country)) +
theme_minimal(base_size = 16, base_family = "Georgia") +
xlab("") +
ylab("GDP ($ trillion)") +
geom_line() +
geom_point() +
scale_color_brewer(palette = "Set1", name="") +
theme(legend.position = "bottom")
regions <- nations %>%
group_by(region, year) %>%
summarize(gdp_tn = sum(gdp_tn, na.rm = TRUE))
ggplot(regions, aes(x=year,y=gdp_tn,fill=region)) +
theme_minimal(base_size = 16, base_family = "Georgia") +
xlab("") +
ylab("GDP ($ trillion)") +
geom_area(color="white") +
scale_fill_brewer(palette = "Set2", name="")
