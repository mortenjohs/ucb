install.packages("ggmap", lib="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
library(ggmap)
ggmap(get_stamenmap(bbox, zoom = 13))
bbox <- c(left = -97.132, bottom = 31.536, right = -97.105, top = 31.560)
ggmap(get_stamenmap(bbox, zoom = 13))
ggmap(get_stamenmap(bbox, maptype = "terrain", zoom = 14))
get_openstreetmap(bbox = c(left = -95.80204, bottom = 29.38048, right =
-94.92313, top = 30.14344), scale = 606250, format = c("png", "jpeg",
"svg", "pdf", "ps"), messaging = FALSE, urlonly = FALSE,
filename = "ggmapTemp", color = c("color", "bw"), ...)
get_openstreetmap(bbox = c(left = -95.80204, bottom = 29.38048, right =
-94.92313, top = 30.14344), scale = 606250, format = c("png", "jpeg",
"svg", "pdf", "ps"), messaging = FALSE, urlonly = FALSE,
filename = "ggmapTemp", color = c("color", "bw"))
get_openstreetmap(bbox = c(left = -95.80204, bottom = 29.38048, right =
-94.92313, top = 30.14344), scale = 606250, format = "png"), messaging = FALSE, urlonly = FALSE,
filename = "ggmapTemp", color = "bw")
get_openstreetmap(bbox = c(left = -95.80204, bottom = 29.38048, right =
-94.92313, top = 30.14344), scale = 606250, format = "png", messaging = FALSE, urlonly = FALSE,
filename = "ggmapTemp", color = "bw")
?get_openstreetmap
load("~/SpiderOak Hive/aram/faa/faa.RData")
View(block)
dea_block <- block %>%
filter(requestor == "Chris Cooper") %>%
left_join(reg)
# load required packages
library(dplyr)
library(readr)
library(tidyr)
dea_block <- block %>%
filter(requestor == "Chris Cooper") %>%
left_join(reg)
dea_block <- block %>%
filter(requestor == "Chris Cooper") %>%
left_join(reg, by=c("aircraft"="reg")
)
View(dea_block)
load("~/SpiderOak Hive/aram/faa/faa.RData")
# load required packages
library(dplyr)
library(readr)
library(tidyr)
library(dbplyr)
library(RPostgreSQL)
library(rpostgis)
library(rgeos)
library(rgdal)
library(lubridate)
drv <- dbDriver("PostgreSQL")
con <- dbConnect(drv, dbname = "planes", host = "localhost")
# load data for conversion to tracks
pgInsert(con, name = "adsb_reynolds", data.obj=tmp, geom = "geom", df.mode = FALSE,
partial.match = FALSE, overwrite = TRUE, new.id = NULL,
row.names = FALSE, upsert.using = NULL, alter.names = FALSE,
encoding = NULL, return.pgi = FALSE)
load("~/SpiderOak Hive/aram/faa/faa.RData")
pgInsert(con, name = "adsb_reynolds", data.obj=tmp, geom = "geom", df.mode = FALSE,
partial.match = FALSE, overwrite = TRUE, new.id = NULL,
row.names = FALSE, upsert.using = NULL, alter.names = FALSE,
encoding = NULL, return.pgi = FALSE)
# set up local DB connection
drv <- dbDriver("PostgreSQL")
con <- dbConnect(drv, dbname = "planes", host = "localhost")
pgInsert(con, name = "adsb_reynolds", data.obj=tmp, geom = "geom", df.mode = FALSE,
partial.match = FALSE, overwrite = TRUE, new.id = NULL,
row.names = FALSE, upsert.using = NULL, alter.names = FALSE,
encoding = NULL, return.pgi = FALSE)
save.image("~/SpiderOak Hive/aram/faa/faa.RData")
fedds1 <- read_csv("https://raw.githubusercontent.com/BuzzFeedNews/2016-04-federal-surveillance-planes/master/data/feds/feds1.csv")
library(readr)
feds1 <- read_csv("https://raw.githubusercontent.com/BuzzFeedNews/2016-04-federal-surveillance-planes/master/data/feds/feds1.csv")
View(feds1)
feds1 <- read_csv("https://raw.githubusercontent.com/BuzzFeedNews/2016-04-federal-surveillance-planes/master/data/feds/feds1.csv")
feds1 <- read_csv("https://raw.githubusercontent.com/BuzzFeedNews/2016-04-federal-surveillance-planes/master/data/feds/feds1.csv")
feds1 <- read_csv("https://raw.githubusercontent.com/BuzzFeedNews/2016-04-federal-surveillance-planes/master/data/feds/feds1.csv")
View(feds1)
planes_features <- read_csv("https://raw.githubusercontent.com/BuzzFeedNews/2017-08-spy-plane-finder/master/data/planes_features.csv")
View(planes_features)
library(readr)
library(dplyr)
tweets <- read_csv("https://media.githubusercontent.com/media/fivethirtyeight/russian-troll-tweets/master/IRAhandle_tweets.csv")
View(head(tweets))
glimpse(tweets)
tweets <- tweets %>%
mutate(date = as.Date(publish_date))
glimpse(tweets)
tweets <- tweets %>%
mutate(date = as.Date(publish_date, format = "%d/%m/%Y %H:%M))
)
tweets <- tweets %>%
mutate(date = as.Date(publish_date, format = "%d/%m/%Y %H:%M))
tweets <- tweets %>%
mutate(date = as.Date(publish_date, format = "%d/%m/%Y %H:%M)))
setwd("~/Dropbox/ucb/2018/dataviz/raw-data/week2")
gender_pay <- read_csv("gender_pay.csv")
gender_pay_chart <- ggplot(gender_pay, aes(x=men_median_pay, y=women_median_pay)) +
geom_point(size=4,alpha=0.5, color="gray57") +
coord_fixed(ratio = 1, xlim = c(0,3000), ylim = c(0,3000)) +
xlab("Men") +
ylab("Women") +
scale_y_continuous(labels = dollar) +
scale_x_continuous(labels = dollar) +
theme_minimal(base_size = 14, base_family = "Georgia") +
ggtitle("Median weekly earnings, by job type (2017)")
# load required packages
library(dplyr)
library(readr)
library(ggplot2)
library(scales)
library(readxl)
library(plotly)
gender_pay_chart <- ggplot(gender_pay, aes(x=men_median_pay, y=women_median_pay)) +
geom_point(size=4,alpha=0.5, color="gray57") +
coord_fixed(ratio = 1, xlim = c(0,3000), ylim = c(0,3000)) +
xlab("Men") +
ylab("Women") +
scale_y_continuous(labels = dollar) +
scale_x_continuous(labels = dollar) +
theme_minimal(base_size = 14, base_family = "Georgia") +
ggtitle("Median weekly earnings, by job type (2017)")
gender_pay <- read_csv("gender_pay.csv")
View(gender_pay)
gender_pay_chart <- ggplot(gender_pay, aes(x=men_median_pay, y=women_median_pay)) +
geom_point(size=4,alpha=0.5, color="gray57") +
coord_fixed(ratio = 1, xlim = c(0,3000), ylim = c(0,3000)) +
xlab("Men") +
ylab("Women") +
scale_y_continuous(labels = dollar) +
scale_x_continuous(labels = dollar) +
theme_minimal(base_size = 14, base_family = "Georgia") +
ggtitle("Median weekly earnings, by job type (2017)")
gender_pay_chart
gender_pay_chart_edited <- gender_pay_chart +
geom_abline(intercept = 0, slope = 1, size=0.2) +
geom_abline(intercept = 0, slope = 0.75, linetype = 3)
ggplotly(gender_pay_chart_edited)
ggsave(file="test.svg", plot=gender_pay_chart_edited, width=7.5, height=7.5)
