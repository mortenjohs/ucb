for (json in json_list) {
planefiles <- fromJSON(json)
for (plane in planefiles) {
plane2 <- as.data.frame(t(plane), stringsAsFactors = FALSE, row.names = plane)
colnames(plane2) <- names
planes <- bind_rows(planes,plane2)
}
}
setwd("/Volumes/External hard drive for MacBook/flightradar/data/")
write.csv(planes, paste0(planes,folder,".csv"), row.names = FALSE, na="")
}
View(planes)
plane
planefiles <- as.data.frame(fromJSON(json))
View(planefiles)
planefiles <- t(as.data.frame(fromJSON(json)))
View(planefiles)
planefiles <- as.data.frame(t(as.data.frame(fromJSON(json))))
View(planefiles)
colnames(planefiles) <- names
View(planefiles)
planefiles <- cbind(planefiles, rownames(planefiles)
)
View(planefiles)
temp <- rownames(planefiles)
temp <- as.data.frame(rownames(planefiles))
View(temp)
temp <- as.data.frame(rownames(planefiles))
colnames(temp) <- "oct"
View(temp)
temp$oct <- substring(temp$oct,2)
View(temp)
setwd("/Volumes/backup/flightradar/data")
names <- c("aircraft_id","latitude","longitude","track","altitude","speed","squawk","radar_id","type","registration","last_update","origin","destination","flight","onground","vspeed","callsign","reserved")
folder_list <- list.files()
for (folder in folder_list) {
setwd(paste0("/Volumes/backup/flightradar/data/",folder))
planes <- as.data.frame(matrix("", ncol = 18, nrow = 0),
stringsAsFactors = FALSE)
colnames(planes) <- names
json_list <- list.files()
for (json in json_list) {
planefiles <- as.data.frame(t(as.data.frame(fromJSON(json))))
temp <- as.data.frame(rownames(planefiles))
colnames(temp) <- "oct"
temp$oct <- substring(temp$oct,2)
planefiles <- cbind(planefiles, temp)
bind_rows(planes, planefiles)
}
}
View(planefiles)
for (folder in folder_list) {
setwd(paste0("/Volumes/backup/flightradar/data/",folder))
planes <- as.data.frame(matrix("", ncol = 18, nrow = 0),
stringsAsFactors = FALSE)
colnames(planes) <- names
json_list <- list.files()
for (json in json_list) {
planefiles <- as.data.frame(t(as.data.frame(fromJSON(json))))
temp <- as.data.frame(rownames(planefiles))
colnames(temp) <- "oct"
temp$oct <- substring(temp$oct,2)
planefiles <- cbind(planefiles, temp)
planes <- bind_rows(planes, planefiles)
}
}
View(planes)
for (folder in folder_list) {
setwd(paste0("/Volumes/backup/flightradar/data/",folder))
planes <- as.data.frame(matrix("", ncol = 18, nrow = 0),
stringsAsFactors = FALSE)
colnames(planes) <- names
json_list <- list.files()
for (json in json_list) {
planefiles <- as.data.frame(t(as.data.frame(fromJSON(json))))
colnames(planefiles) <- names
temp <- as.data.frame(rownames(planefiles))
colnames(temp) <- "oct"
temp$oct <- substring(temp$oct,2)
planefiles <- cbind(planefiles, temp)
planes <- bind_rows(planes, planefiles)
}
}
View(planes)
setwd("/Volumes/backup/flightradar/data")
names <- c("aircraft_id","latitude","longitude","track","altitude","speed","squawk","radar_id","type","registration","last_update","origin","destination","flight","onground","vspeed","callsign","reserved")
folder_list <- list.files()
# extract the data
for (folder in folder_list) {
setwd(paste0("/Volumes/backup/flightradar/data/",folder))
planes <- as.data.frame(matrix("", ncol = 18, nrow = 0),
stringsAsFactors = FALSE)
colnames(planes) <- names
json_list <- list.files()
for (json in json_list) {
planefiles <- as.data.frame(t(as.data.frame(fromJSON(json))))
colnames(planefiles) <- names
temp <- as.data.frame(rownames(planefiles))
colnames(temp) <- "oct"
temp$oct <- substring(temp$oct,2)
planefiles <- cbind(planefiles, temp)
planes <- bind_rows(planes, planefiles)
}
}
View(planes)
names <- c("aircraft_id","latitude","longitude","track","altitude","speed","squawk","radar_id","type","registration","last_update","origin","destination","flight","onground","vspeed","callsign","reserved")
setwd("/Volumes/backup/flightradar/data")
setwd("/Volumes/backup/flightradar/data")
folder_list <- list.files()
for (folder in folder_list) {
setwd(paste0("/Volumes/backup/flightradar/data/",folder))
planes <- as.data.frame(matrix("", ncol = 18, nrow = 0),
stringsAsFactors = FALSE)
colnames(planes) <- names
json_list <- list.files()
for (json in json_list) {
planefiles <- as.data.frame(t(as.data.frame(fromJSON(json))))
colnames(planefiles) <- names
temp <- as.data.frame(rownames(planefiles))
colnames(temp) <- "oct"
temp$oct <- substring(temp$oct,2)
planefiles <- cbind(planefiles, temp)
planes <- bind_rows(planes, planefiles)
}
}
setwd("/Volumes/External hard drive for MacBook/flightradar/data/")
write.csv(planes, paste0(planes,folder,".csv"), row.names = FALSE, na="")
}
View(planes)
planes_tail <- tail(planes)
View(planes_tail)
planes(tail) <- mutate(planes_tail, last_update=as.POSIXct(as.integer(last_update), origin="1970-01-01", tz="UTC")
)
planes_tail <- mutate(planes_tail, last_update=as.POSIXct(as.integer(last_update), origin="1970-01-01", tz="UTC"))
View(planes_tail)
write.csv(planes, paste0(planes,folder,".csv"), row.names = FALSE, na="")
View(planefiles)
save.image("/Volumes/backup/flightradar/data/fri.RData")
library(dplyr)
library(rCharts)
library(WDI)
co2 <- WDI(country = "all", indicator = EN.ATM.CO2E.PC, start = 2000, end = 2011)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.PC", start = 2000, end = 2011)
View(co2)
View(co2)
codes <- read.csv("codes.csv")
setwd("~/Dropbox/ucb/2015/dataviz/raw-data/week14")
codes <- read.csv("codes.csv")
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.PC", start = 2000, end = 2011) %>%
mutate(co2pc = EN.ATM.CO2E.PC)
co2 <- anti_join(co2,codes)
View(co2)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.PC", start = 2000, end = 2011) %>%
rename(co2pc = EN.ATM.CO2E.PC)
codes <- read.csv("codes.csv")
co2 <- anti_join(co2,codes)
View(co2)
co2 <- semi_join(co2,codes)
View(codes)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.PC", start = 2000, end = 2011) %>%
rename(co2pc = EN.ATM.CO2E.PC)
co2 <- semi_join(co2,codes)
View(co2)
View(co2)
country <-  read.csv("countries.csv")
co2_clean1 <- semi_join(co2,codes)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.PC", start = 2000, end = 2011) %>%
rename(co2pc = EN.ATM.CO2E.PC)
codes <- read.csv("codes.csv")
country <-  read.csv("countries.csv")
co2_clean1 <- semi_join(co2,codes)
co2_clean2 <- semi_join(co2,countries)
countries <-  read.csv("countries.csv")
co2_clean2 <- semi_join(co2,countries)
View(co2)
regions <- c("Z1", "Z2", "Z3", "Z4", "Z5", "Z6", "Z7")
co2 <- WDI(country = regions, indicator = "EN.ATM.CO2E.PC", start = 2000, end = 2011) %>%
rename(co2pc = EN.ATM.CO2E.PC)
View(co2)
co2 <- WDI(country = regions, indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
rename(co2pc = EN.ATM.CO2E.PC)
View(co2)
co2 <- WDI(country = regions, indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
rename(co2pc = EN.ATM.CO2E.KT)
View(co2)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
rename(co2pc = EN.ATM.CO2E.KT)
View(co2)
regions <- c("Z4", "Z7", "ZJ", "ZQ", "XU", "8S", "ZG")
co2 <- WDI(country = regions, indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
rename(co2 = EN.ATM.CO2E.KT)
co2_stacked <- nPlot(life_expect ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
View(co2)
co2 <- WDI(country = all, indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
rename(co2 = EN.ATM.CO2E.KT)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
rename(co2 = EN.ATM.CO2E.KT)
View(co2)
regions <- c("Z4", "Z7", "ZJ", "ZQ", "XU", "8S", "ZG")
co2 <- WDI(country = regions, indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
rename(co2 = EN.ATM.CO2E.KT)
View(co2)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
rename(co2 = EN.ATM.CO2E.KT)
View(co2)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
rename(co2 = EN.ATM.CO2E.KT) %>%
filter(country == "XU")
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
rename(co2 = EN.ATM.CO2E.KT)
View(co2)
regions <- c("Z4", "Z7", "ZJ", "ZQ", "North America", "8S", "ZG")
co2 <- WDI(country = regions, indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
rename(co2 = EN.ATM.CO2E.KT)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(country == regions)
View(co2)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(country in regions)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(country %in% regions)
View(co2)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c %in% regions)
View(co2)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU")
View(co2)
regions <- c("Z4", "Z7", "ZJ", "ZQ", "XU", "8S", "ZG")
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S")
# joins
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S")
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
View(co2)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT) %>%
mutate(co2 = round(co2, digits  0))
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT) %>%
mutate(co2 = round(co2, digits = 0))
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
View(co2)
co2$country <- gsub("all income levels", "", co2$country)
# draw chart
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
co2$country <- gsub("(all income levels)", "", co2$country)
# draw chart
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
co2$country <- gsub("(all income levels)", "", co2$country)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
co2$country <- gsub("(all income levels)", "", co2$country)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT)
View(co2)
co2$country <- gsub(" (all income levels)", "", co2$country)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
co2$country <- gsub(" (all income levels)", "", co2$country)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
co2$country <- gsub("(all income levels)", "", co2$country)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
co2$country <- gsub("(", "", co2$country)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
co2$country <- gsub("/(", "", co2$country)
co2$country <- gsub("\\(", "", co2$country)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
co2$country <- gsub("(all income levels)", "", co2$country)
co2$country <- gsub("\\(", "", co2$country)
co2$country <- gsub("\\)", "", co2$country)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
co2stacked$yAxis(axisLabel=("Carbon dioxide emissions (kilotonnes)"),
tickFormat = "#! d3.format(',0f') !#"))
co2_stacked
co2stacked$yAxis(axisLabel=("Carbon dioxide emissions (kilotonnes)"),
tickFormat = "#! d3.format(',0f') !#")
co2_stacked
co2stacked$yAxis(axisLabel=("Carbon dioxide emissions (kilotonnes)"),
tickFormat = "#! d3.format(',0f') !#")
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2stacked$yAxis(axisLabel=("Carbon dioxide emissions (kilotonnes)"),
tickFormat = "#! d3.format(',0f') !#")
co2_stacked$yAxis(axisLabel=("Carbon dioxide emissions (kilotonnes)"),
tickFormat = "#! d3.format(',0f') !#")
co2_stacked
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT) %>%
mutate(co2 = co2/1000000)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked$yAxis(axisLabel=("Carbon dioxide emissions (kilotonnes)"),
tickFormat = "#! d3.format(',0f') !#")
co2_stacked
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT) %>%
mutate(co2 = round(co2/1000000, digits=2))
co2$country <- gsub("all income levels", "", co2$country)
co2$country <- gsub("\\(", "", co2$country)
co2$country <- gsub("\\)", "", co2$country)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked$yAxis(axisLabel=("Carbon dioxide emissions (kilotonnes)"),
tickFormat = "#! d3.format(',0f') !#")
co2_stacked
View(co2)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
co2_stacked$yAxis(axisLabel=("Carbon dioxide emissions (gigatonnes)"),
co2_stacked$yAxis(axisLabel=("Carbon dioxide emissions (gigatonnes)")
# plot chart
co2_stacked
co2_stacked
co2_stacked$save("co2.html", cdn = FALSE)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
# customize chart
co2_stacked$yAxis(axisLabel=("Carbon dioxide emiss
co2_stacked$save("co2.html", cdn = FALSE)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT) %>%
mutate(co2 = round(co2/1000000, digits=2))
co2$country <- gsub("all income levels", "", co2$country)
co2$country <- gsub("\\(", "", co2$country)
co2$country <- gsub("\\)", "", co2$country)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked$yAxis(axisLabel=("Carbon dioxide emissions (gigatonnes)"))
co2_stacked
co2_stacked$save("co2.html", cdn = FALSE)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked <- nPlot(co2 ~ year,
group = "country",
data = co2,
type = "stackedAreaChart"
)
co2_stacked
co2_stacked$save("co2.html", cdn = FALSE)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT) %>%
mutate(co2 = round(co2/1000000, digits=2))
View(co2)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT) %>%
mutate(co2 = round(co2/1000000, digits=2,
country = substring(country, -19))
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT) %>%
mutate(co2 = round(co2/1000000, digits=2),
country = substring(country, -19))
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT) %>%
mutate(co2 = round(co2/1000000, digits=2),
country = substring(country, -19))
View(co2)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT) %>%
mutate(co2 = round(co2/1000000, digits=2),
country = substring(country, -19, -1))
View(co2)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT) %>%
mutate(co2 = round(co2/1000000, digits=2),
country = substring(country, 1, -19))
View(co2)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT) %>%
mutate(co2 = round(co2/1000000, digits=2),
country = substring(country, 1, length(country-19)))
View(co2)
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT) %>%
mutate(co2 = round(co2/1000000, digits=2),
country=length(country-19))
co2 <- WDI(country = "all", indicator = "EN.ATM.CO2E.KT", start = 2000, end = 2011) %>%
filter(iso2c == "XU" | iso2c == "Z7" | iso2c == "ZQ" | iso2c == "Z4" | iso2c == "ZJ" | iso2c == "ZQ" | iso2c == "8S") %>%
rename(co2 = EN.ATM.CO2E.KT) %>%
mutate(co2 = round(co2/1000000, digits=2),
country=length(country))
View(country)
