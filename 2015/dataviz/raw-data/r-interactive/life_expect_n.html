<!doctype HTML>
<meta charset = 'utf-8'>
<html>
  <head>
 
  <link rel="stylesheet" href="css/nv.d3.min.css">
  <script src="src/d3.min.js"></script> 
  <script src="src/nv.d3.min.js"></script>
  <script src="src/jquery-1.11.3.min.js"></script>


    <style>
    .rChart {
      display: block;
      margin-left: auto; 
      margin-right: auto;
      width: 100%;
      height: 400px;
    }  
    </style>
    
  </head>
  <body >
    
    <div id = 'chart1885bee4c50' class = 'rChart nvd3'></div>    
    <script type='text/javascript'>
 $(document).ready(function(){
      drawchart1885bee4c50()
    });
    function drawchart1885bee4c50(){  
      var opts = {
 "dom": "chart1885bee4c50",
// "width":    800,
"height":    400,
"x": "year",
"y": "life_expect",
"group": "country",
"type": "lineChart",
"id": "chart1885bee4c50" 
},
        data = [
 {
 "iso2c": "DE",
"country": "Germany",
"year":           1990,
"life_expect":          75.18,
"health_spend": null,
"unemploy_rate": null 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           1991,
"life_expect":          75.32,
"health_spend": null,
"unemploy_rate":            5.6 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           1992,
"life_expect":          75.82,
"health_spend": null,
"unemploy_rate":            6.6 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           1993,
"life_expect":          75.87,
"health_spend": null,
"unemploy_rate":            7.9 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           1994,
"life_expect":          76.27,
"health_spend": null,
"unemploy_rate":            8.4 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           1995,
"life_expect":          76.42,
"health_spend":           2276,
"unemploy_rate":            8.1 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           1996,
"life_expect":          76.67,
"health_spend":           2403,
"unemploy_rate":            8.9 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           1997,
"life_expect":          77.07,
"health_spend":           2418,
"unemploy_rate":            9.8 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           1998,
"life_expect":          77.48,
"health_spend":           2489,
"unemploy_rate":            9.2 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           1999,
"life_expect":          77.73,
"health_spend":           2591,
"unemploy_rate":            8.4 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           2000,
"life_expect":          77.93,
"health_spend":           2682,
"unemploy_rate":            7.7 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           2001,
"life_expect":          78.33,
"health_spend":           2812,
"unemploy_rate":            7.8 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           2002,
"life_expect":          78.23,
"health_spend":           2945,
"unemploy_rate":            8.6 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           2003,
"life_expect":          78.38,
"health_spend":           3097,
"unemploy_rate":            9.3 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           2004,
"life_expect":          78.68,
"health_spend":           3164,
"unemploy_rate":           10.3 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           2005,
"life_expect":          78.93,
"health_spend":           3362,
"unemploy_rate":           11.1 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           2006,
"life_expect":          79.13,
"health_spend":           3569,
"unemploy_rate":           10.3 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           2007,
"life_expect":          79.53,
"health_spend":           3718,
"unemploy_rate":            8.6 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           2008,
"life_expect":          79.74,
"health_spend":           3968,
"unemploy_rate":            7.5 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           2009,
"life_expect":          79.84,
"health_spend":           4222,
"unemploy_rate":            7.7 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           2010,
"life_expect":          79.99,
"health_spend":           4426,
"unemploy_rate":            7.1 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           2011,
"life_expect":          80.74,
"health_spend":           4612,
"unemploy_rate":            5.9 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           2012,
"life_expect":          80.89,
"health_spend":           4635,
"unemploy_rate":            5.4 
},
{
 "iso2c": "DE",
"country": "Germany",
"year":           2013,
"life_expect":          81.04,
"health_spend":           4812,
"unemploy_rate":            5.3 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           1990,
"life_expect":          74.86,
"health_spend": null,
"unemploy_rate": null 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           1991,
"life_expect":          74.97,
"health_spend": null,
"unemploy_rate":           8.84 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           1992,
"life_expect":          75.29,
"health_spend": null,
"unemploy_rate":           9.48 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           1993,
"life_expect":          75.39,
"health_spend": null,
"unemploy_rate":          10.92 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           1994,
"life_expect":          75.69,
"health_spend": null,
"unemploy_rate":          11.34 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           1995,
"life_expect":          75.81,
"health_spend":           1435,
"unemploy_rate":          10.77 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           1996,
"life_expect":          76.07,
"health_spend":           1510,
"unemploy_rate":          10.69 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           1997,
"life_expect":          76.36,
"health_spend":           1561,
"unemploy_rate":          10.39 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           1998,
"life_expect":          76.59,
"health_spend":           1633,
"unemploy_rate":           9.82 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           1999,
"life_expect":          76.82,
"health_spend":           1717,
"unemploy_rate":           9.57 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           2000,
"life_expect":          77.16,
"health_spend":           1836,
"unemploy_rate":           9.21 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           2001,
"life_expect":          77.49,
"health_spend":           1975,
"unemploy_rate":           8.66 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           2002,
"life_expect":          77.61,
"health_spend":           2107,
"unemploy_rate":           9.05 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           2003,
"life_expect":          77.69,
"health_spend":           2226,
"unemploy_rate":           9.02 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           2004,
"life_expect":          78.19,
"health_spend":           2342,
"unemploy_rate":           9.17 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           2005,
"life_expect":          78.36,
"health_spend":           2496,
"unemploy_rate":           8.94 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           2006,
"life_expect":          78.74,
"health_spend":           2692,
"unemploy_rate":           8.22 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           2007,
"life_expect":          78.97,
"health_spend":           2825,
"unemploy_rate":           7.18 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           2008,
"life_expect":          79.18,
"health_spend":           3038,
"unemploy_rate":           6.97 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           2009,
"life_expect":          79.44,
"health_spend":           3206,
"unemploy_rate":           8.96 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           2010,
"life_expect":          79.73,
"health_spend":           3240,
"unemploy_rate":           9.64 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           2011,
"life_expect":           80.3,
"health_spend":           3320,
"unemploy_rate":           9.61 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           2012,
"life_expect":          80.31,
"health_spend":           3318,
"unemploy_rate":          10.51 
},
{
 "iso2c": "EU",
"country": "EU",
"year":           2013,
"life_expect":          80.38,
"health_spend":           3390,
"unemploy_rate":          10.93 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           1990,
"life_expect":          76.94,
"health_spend": null,
"unemploy_rate": null 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           1991,
"life_expect":          77.14,
"health_spend": null,
"unemploy_rate":            7.7 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           1992,
"life_expect":          77.38,
"health_spend": null,
"unemploy_rate":            7.8 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           1993,
"life_expect":          77.39,
"health_spend": null,
"unemploy_rate":              9 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           1994,
"life_expect":          77.64,
"health_spend": null,
"unemploy_rate":            8.9 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           1995,
"life_expect":          77.59,
"health_spend":           1264,
"unemploy_rate":            9.1 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           1996,
"life_expect":          77.69,
"health_spend":           1303,
"unemploy_rate":            9.7 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           1997,
"life_expect":          78.14,
"health_spend":           1358,
"unemploy_rate":            9.6 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           1998,
"life_expect":          77.84,
"health_spend":           1385,
"unemploy_rate":           10.8 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           1999,
"life_expect":          77.99,
"health_spend":           1471,
"unemploy_rate":           11.7 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           2000,
"life_expect":          77.89,
"health_spend":           1454,
"unemploy_rate":           11.1 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           2001,
"life_expect":          78.39,
"health_spend":           1759,
"unemploy_rate":           10.2 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           2002,
"life_expect":          78.64,
"health_spend":           1969,
"unemploy_rate":           10.3 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           2003,
"life_expect":          78.84,
"health_spend":           2034,
"unemploy_rate":            9.7 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           2004,
"life_expect":          79.04,
"health_spend":           2094,
"unemploy_rate":           10.5 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           2005,
"life_expect":          79.24,
"health_spend":           2359,
"unemploy_rate":            9.8 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           2006,
"life_expect":          79.44,
"health_spend":           2620,
"unemploy_rate":            8.9 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           2007,
"life_expect":          79.44,
"health_spend":           2732,
"unemploy_rate":            8.3 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           2008,
"life_expect":          79.94,
"health_spend":           3013,
"unemploy_rate":            7.7 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           2009,
"life_expect":          80.19,
"health_spend":           3029,
"unemploy_rate":            9.5 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           2010,
"life_expect":          80.39,
"health_spend":           2685,
"unemploy_rate":           12.5 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           2011,
"life_expect":          80.73,
"health_spend":           2648,
"unemploy_rate":           17.7 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           2012,
"life_expect":          80.63,
"health_spend":           2355,
"unemploy_rate":           24.2 
},
{
 "iso2c": "GR",
"country": "Greece",
"year":           2013,
"life_expect":          80.63,
"health_spend":           2513,
"unemploy_rate":           27.3 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           1990,
"life_expect":           68.9,
"health_spend": null,
"unemploy_rate": null 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           1991,
"life_expect":          68.47,
"health_spend": null,
"unemploy_rate":           12.2 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           1992,
"life_expect":          66.87,
"health_spend": null,
"unemploy_rate":            5.2 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           1993,
"life_expect":          64.94,
"health_spend": null,
"unemploy_rate":            5.9 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           1994,
"life_expect":          64.47,
"health_spend": null,
"unemploy_rate":            8.1 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           1995,
"life_expect":          65.22,
"health_spend":            301,
"unemploy_rate":            9.4 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           1996,
"life_expect":          66.19,
"health_spend":            306,
"unemploy_rate":            9.7 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           1997,
"life_expect":          66.95,
"health_spend":            404,
"unemploy_rate":           11.8 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           1998,
"life_expect":          66.78,
"health_spend":            362,
"unemploy_rate":           13.3 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           1999,
"life_expect":          66.04,
"health_spend":            343,
"unemploy_rate":             13 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           2000,
"life_expect":          65.34,
"health_spend":            370,
"unemploy_rate":           10.6 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           2001,
"life_expect":          65.49,
"health_spend":            418,
"unemploy_rate":              9 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           2002,
"life_expect":          65.09,
"health_spend":            480,
"unemploy_rate":            7.9 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           2003,
"life_expect":          65.01,
"health_spend":            518,
"unemploy_rate":            8.2 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           2004,
"life_expect":          65.42,
"health_spend":            530,
"unemploy_rate":            7.8 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           2005,
"life_expect":          65.47,
"health_spend":            614,
"unemploy_rate":            7.1 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           2006,
"life_expect":          66.64,
"health_spend":            788,
"unemploy_rate":            7.1 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           2007,
"life_expect":           67.5,
"health_spend":            890,
"unemploy_rate":              6 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           2008,
"life_expect":          67.85,
"health_spend":           1235,
"unemploy_rate":            6.2 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           2009,
"life_expect":           68.6,
"health_spend":           1449,
"unemploy_rate":            8.3 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           2010,
"life_expect":          68.86,
"health_spend":           1410,
"unemploy_rate":            7.3 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           2011,
"life_expect":          69.66,
"health_spend":           1515,
"unemploy_rate":            6.5 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           2012,
"life_expect":          70.37,
"health_spend":           1529,
"unemploy_rate":            5.5 
},
{
 "iso2c": "RU",
"country": "Russia",
"year":           2013,
"life_expect":          71.07,
"health_spend":           1587,
"unemploy_rate":            5.6 
} 
]
  
      if(!(opts.type==="pieChart" || opts.type==="sparklinePlus" || opts.type==="bulletChart")) {
        var data = d3.nest()
          .key(function(d){
            //return opts.group === undefined ? 'main' : d[opts.group]
            //instead of main would think a better default is opts.x
            return opts.group === undefined ? opts.y : d[opts.group];
          })
          .entries(data);
      }
      
      if (opts.disabled != undefined){
        data.map(function(d, i){
          d.disabled = opts.disabled[i]
        })
      }
      
      nv.addGraph(function() {
        var chart = nv.models[opts.type]()
          .width(opts.width)
          .height(opts.height)
          
        if (opts.type != "bulletChart"){
          chart
            .x(function(d) { return d[opts.x] })
            .y(function(d) { return d[opts.y] })
        }
          
         
        chart
  .color([ "#e41a1c", "#377eb8", "#4daf4a", "#984ea3" ])
          
        

        
        
        chart.yAxis
  .axisLabel("Life expectancy at birth (years)")
      
       d3.select("#" + opts.id)
        .append('svg')
        .datum(data)
        .transition().duration(500)
        .call(chart);

       nv.utils.windowResize(chart.update);
       return chart;
      });
    };
</script>
    
    <script></script>    
  </body>
</html>
