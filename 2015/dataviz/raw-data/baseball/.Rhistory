library(dplyr)
library(Lahman)
Teams <- filter(Teams, yearID >= 2013)
Salaries <- filter(Salaries, yearID >= 2013)
mlb_salaries_2013 <- inner_join(Salaries, Master, by="playerID") %>%
inner_join(Teams, by="teamID") %>%
mutate(salary_mil=salary/1000000, nameFull=paste(nameFirst, nameLast, sep=" ")) %>%
rename(teamName=name)
# select fields for export
mlb_salaries_2013 <- select(mlb_salaries_2013, playerID, nameFirst, nameLast, nameFull, teamID, teamName, salary, salary_mil)
mlb_salaries_2013 <- inner_join(Salaries, Master, by="playerID") %>%
inner_join(Teams, by="teamID") %>%
mutate(salary_mil=salary/1000000, nameFull=paste(nameFirst, nameLast, sep=" ")) %>%
rename(teamName=name)
View(mlb_salaries_2013)
ViewFielding
View(Fielding)
Fielding <- filter(Fielding, yearID >= 2013)
View(Fielding)
View(Fielding)
mlb_salaries_2013 <- inner_join(Salaries, Master, by="playerID") %>%
inner_join(Teams, by="teamID") %>%
inner_join(Fielding, by="playerID") %>%
mutate(salary_mil=salary/1000000, nameFull=paste(nameFirst, nameLast, sep=" ")) %>%
rename(teamName=name)
mlb_salaries_2013 <- select(mlb_salaries_2013, playerID, nameFirst, nameLast, nameFull, POS, teamID, teamName, salary, salary_mil)
View(mlb_salaries_2013)
mlb_salaries_2013 <- inner_join(Salaries, Master, by="playerID") %>%
inner_join(Teams, by="teamID") %>%
inner_join(Fielding, by=c("playerID", "teamID")) %>%
mutate(salary_mil=salary/1000000, nameFull=paste(nameFirst, nameLast, sep=" ")) %>%
rename(teamName=name)
mlb_salaries_2013 <- select(mlb_salaries_2013, playerID, nameFirst, nameLast, nameFull, POS, teamID, teamName, salary, salary_mil)
View(mlb_salaries_2013)
mlb_salaries_2013 <- inner_join(Salaries, Master, by="playerID") %>%
inner_join(Teams, by="teamID") %>%
inner_join(Fielding, by=c("playerID")) %>%
mutate(salary_mil=salary/1000000, nameFull=paste(nameFirst, nameLast, sep=" ")) %>%
rename(teamName=name)
View(mlb_salaries_2013)
View(Fielding)
View(Salaries)
mlb_salaries_2013 <- inner_join(mlb_salaries, Feilding, by="playerID")
View(mlb_salaries_2013)
mlb_salaries_2013 <- inner_join(Salaries, Master, by="playerID") %>%
inner_join(Teams, by="teamID") %>%
mutate(salary_mil=salary/1000000, nameFull=paste(nameFirst, nameLast, sep=" ")) %>%
rename(teamName=name)
mlb_salaries_2013 <- left_join(mlb_salaries, Feilding, by="playerID") %>%
View(mlb_salaries_2013)
View(mlb_salaries_2013)
mlb_salaries_2013 <- left_join(mlb_salaries_2013, Feilding, by="playerID") %>%
)
View(mlb_salaries_2013)
View(mlb_salaries_2013)
mlb_salaries_2013 <- inner_join(mlb_salaries_2013, Fielding)
mlb_salaries_2013 <- inner_join(Salaries, Master, by="playerID") %>%
inner_join(Teams, by="teamID") %>%
mutate(salary_mil=salary/1000000, nameFull=paste(nameFirst, nameLast, sep=" ")) %>%
rename(teamName=name)
mlb_salaries_2013 <- inner_join(mlb_salaries_2013, Fielding) %>%
)
mlb_salaries_2013 <- inner_join(mlb_salaries_2013, Fielding)
mlb_salaries_2013 <- inner_join(Salaries, Master, by="playerID") %>%
inner_join(Teams, by="teamID") %>%
mutate(salary_mil=salary/1000000, nameFull=paste(nameFirst, nameLast, sep=" ")) %>%
rename(teamName=name) %>%
select(playerID, nameFirst, nameLast, nameFull, POS, teamID, teamName, salary, salary_mil)
mlb_salaries_2013 <- inner_join(Salaries, Master, by="playerID") %>%
inner_join(Teams, by="teamID") %>%
mutate(salary_mil=salary/1000000, nameFull=paste(nameFirst, nameLast, sep=" ")) %>%
rename(teamName=name) %>%
select(playerID, nameFirst, nameLast, nameFull, teamID, teamName, salary, salary_mil)
View(mlb_salaries_2013)
mlb_salaries_2013 <- inner_join(mlb_salaries_2013, Fielding)
mlb_salaries_2013 <- inner_join(Salaries, Master, by="playerID") %>%
inner_join(Teams, by="teamID") %>%
mutate(salary_mil=salary/1000000, nameFull=paste(nameFirst, nameLast, sep=" ")) %>%
rename(teamName=name) %>%
select(playerID, nameFirst, nameLast, nameFull, teamID, teamName, salary, salary_mil)
mlb_salaries_2013 <- inner_join(mlb_salaries_2013, Fielding, by=c("teamID","playerID"))
View(mlb_salaries_2013)
weird <- left_join(mlb_salaries_2013, Fielding, by=c("teamID","playerID"))
write.csv(weird, "/Users/paldhous/Dropbox/kdmc-workshops/2015/dataviz/data/wierd.csv", row.names = FALSE, na = "")
mlb_salaries_2013 <- inner_join(Salaries, Master, by="playerID") %>%
inner_join(Teams, by="teamID") %>%
mutate(salary_mil=salary/1000000, nameFull=paste(nameFirst, nameLast, sep=" ")) %>%
rename(teamName=name) %>%
select(playerID, nameFirst, nameLast, nameFull, teamID, teamName, salary, salary_mil)
weird <- left_join(mlb_salaries_2013, Fielding, by=c("teamID","playerID"))
mlb_salaries_2013 <- inner_join(Salaries, Master, by="playerID") %>%
inner_join(Teams, by="teamID") %>%
mutate(salary_mil=salary/1000000, nameFull=paste(nameFirst, nameLast, sep=" ")) %>%
rename(teamName=name) %>%
select(playerID, nameFirst, nameLast, nameFull, teamID, teamName, salary, salary_mil)
weird <- inner_join(mlb_salaries_2013, Fielding, by=c("teamID","playerID"))
write.csv(weird, "/Users/paldhous/Dropbox/kdmc-workshops/2015/dataviz/data/wierd.csv", row.names = FALSE, na = "")
mlb_salaries_2013 <- select(mlb_salaries_2013, playerID, nameFirst, nameLast, nameFull, POS, teamID, teamName, salary, salary_mil)
write.csv(weird, "/Users/paldhous/Dropbox/kdmc-workshops/2015/dataviz/data/wierd.csv", row.names = FALSE, na = "")
write.csv(weird, "/Users/paldhous/Dropbox/kdmc-workshops/2015/dataviz/data/baseball/weird.csv", row.names = FALSE, na = "")
write.csv(weird, "/Users/paldhous/Dropbox/kdmc-workshops/2015/dataviz/data/baseball/weird.csv", row.names = FALSE, na = "")
write.csv(weird, "/Users/Peter/Dropbox/kdmc-workshops/2015/dataviz/data/baseball/weird.csv", row.names = FALSE, na = "")
View(Salaries)
View(mlb_salaries_2013)
ggplot(mlb_salaries_2013, aes(x=salary_mil, y=..count..)) + geom_histogram(binwidth=.5) + ylab("Number of players") + xlab("Salary ($ million)")
library(ggplot2)
ggplot(mlb_salaries_2013, aes(x=salary_mil, y=..count..)) + geom_histogram(binwidth=.5) + ylab("Number of players") + xlab("Salary ($ million)")
ggplot(salaries_2013, aes(x=teamID, y=salary_mil, colour=team)) + geom_boxplot() + theme(legend.position="none", axis.text.x = element_text(angle=90)) + xlab("Team") + ylab("Salary ($ million)")
ggplot(mlb_salaries_2013, aes(x=teamID, y=salary_mil, colour=team)) + geom_boxplot() + theme(legend.position="none", axis.text.x = element_text(angle=90)) + xlab("Team") + ylab("Salary ($ million)")
ggplot(mlb_salaries_2013, aes(x=teamID, y=salary_mil, colour=teamID)) + geom_boxplot() + theme(legend.position="none", axis.text.x = element_text(angle=90)) + xlab("Team") + ylab("Salary ($ million)")
ggplot(mlb_salaries_2013, aes(x=teamName, y=salary_mil, colour=teamName)) + geom_boxplot() + theme(legend.position="none", axis.text.x = element_text(angle=90)) + xlab("Team") + ylab("Salary ($ million)")
ID
ggplot(mlb_salaries_2013, aes(x=teamName, y=salary_mil, colour=teamID)) + geom_boxplot() + theme(legend.position="none", axis.text.x = element_text(angle=45)) + xlab("Team") + ylab("Salary ($ million)")
ggplot(mlb_salaries_2013, aes(x=teamID, y=salary_mil, colour=teamID)) + geom_boxplot() + theme(legend.position="none", axis.text.x = element_text(angle=90)) + xlab("Team") + ylab("Salary ($ million)")
