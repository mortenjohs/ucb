<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>class3.html</title>
  <meta name="generator" content="Haroopad 0.12.2" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>div.oembedall-githubrepos{border:1px solid #DDD;border-radius:4px;list-style-type:none;margin:0 0 10px;padding:8px 10px 0;font:13.34px/1.4 helvetica,arial,freesans,clean,sans-serif;width:452px;background-color:#fff}div.oembedall-githubrepos .oembedall-body{background:-moz-linear-gradient(center top,#FAFAFA,#EFEFEF) repeat scroll 0 0 transparent;background:-webkit-gradient(linear,left top,left bottom,from(#FAFAFA),to(#EFEFEF));border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-top:1px solid #EEE;margin-left:-10px;margin-top:8px;padding:5px 10px;width:100%}div.oembedall-githubrepos h3{font-size:14px;margin:0;padding-left:18px;white-space:nowrap}div.oembedall-githubrepos p.oembedall-description{color:#444;font-size:12px;margin:0 0 3px}div.oembedall-githubrepos p.oembedall-updated-at{color:#888;font-size:11px;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats{border:medium none;float:right;font-size:11px;font-weight:700;padding-left:15px;position:relative;z-index:5;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats li{border:medium none;color:#666;display:inline-block;list-style-type:none;margin:0!important}div.oembedall-githubrepos ul.oembedall-repo-stats li a{background-color:transparent;border:medium none;color:#666!important;background-position:5px -2px;background-repeat:no-repeat;border-left:1px solid #DDD;display:inline-block;height:21px;line-height:21px;padding:0 5px 0 23px}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a{border-left:medium none;margin-right:-3px}div.oembedall-githubrepos ul.oembedall-repo-stats li a:hover{background:none no-repeat scroll 5px -27px #4183C4;color:#FFF!important;text-decoration:none}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a:hover{border-bottom-left-radius:3px;border-top-left-radius:3px}ul.oembedall-repo-stats li:last-child a:hover{border-bottom-right-radius:3px;border-top-right-radius:3px}span.oembedall-closehide{background-color:#aaa;border-radius:2px;cursor:pointer;margin-right:3px}div.oembedall-container{margin-top:5px;text-align:left}.oembedall-ljuser{font-weight:700}.oembedall-ljuser img{vertical-align:bottom;border:0;padding-right:1px}.oembedall-stoqembed{border-bottom:1px dotted #999;float:left;overflow:hidden;width:730px;line-height:1;background:none repeat scroll 0 0 #FFF;color:#000;font-family:Arial,Liberation Sans,DejaVu Sans,sans-serif;font-size:80%;text-align:left;margin:0;padding:0}.oembedall-stoqembed a{color:#07C;text-decoration:none;margin:0;padding:0}.oembedall-stoqembed a:hover{text-decoration:underline}.oembedall-stoqembed a:visited{color:#4A6B82}.oembedall-stoqembed h3{font-family:Trebuchet MS,Liberation Sans,DejaVu Sans,sans-serif;font-size:130%;font-weight:700;margin:0;padding:0}.oembedall-stoqembed .oembedall-reputation-score{color:#444;font-size:120%;font-weight:700;margin-right:2px}.oembedall-stoqembed .oembedall-user-info{height:35px;width:185px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-gravatar32{float:left;height:32px;width:32px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-details{float:left;margin-left:5px;overflow:hidden;white-space:nowrap;width:145px}.oembedall-stoqembed .oembedall-question-hyperlink{font-weight:700}.oembedall-stoqembed .oembedall-stats{background:none repeat scroll 0 0 #EEE;margin:0 0 0 7px;padding:4px 7px 6px;width:58px}.oembedall-stoqembed .oembedall-statscontainer{float:left;margin-right:8px;width:86px}.oembedall-stoqembed .oembedall-votes{color:#555;padding:0 0 7px;text-align:center}.oembedall-stoqembed .oembedall-vote-count-post{font-size:240%;color:#808185;display:block;font-weight:700}.oembedall-stoqembed .oembedall-views{color:#999;padding-top:4px;text-align:center}.oembedall-stoqembed .oembedall-status{margin-top:-3px;padding:4px 0;text-align:center;background:none repeat scroll 0 0 #75845C;color:#FFF}.oembedall-stoqembed .oembedall-status strong{color:#FFF;display:block;font-size:140%}.oembedall-stoqembed .oembedall-summary{float:left;width:635px}.oembedall-stoqembed .oembedall-excerpt{line-height:1.2;margin:0;padding:0 0 5px}.oembedall-stoqembed .oembedall-tags{float:left;line-height:18px}.oembedall-stoqembed .oembedall-tags a:hover{text-decoration:none}.oembedall-stoqembed .oembedall-post-tag{background-color:#E0EAF1;border-bottom:1px solid #3E6D8E;border-right:1px solid #7F9FB6;color:#3E6D8E;font-size:90%;line-height:2.4;margin:2px 2px 2px 0;padding:3px 4px;text-decoration:none;white-space:nowrap}.oembedall-stoqembed .oembedall-post-tag:hover{background-color:#3E6D8E;border-bottom:1px solid #37607D;border-right:1px solid #37607D;color:#E0EAF1}.oembedall-stoqembed .oembedall-fr{float:right}.oembedall-stoqembed .oembedall-statsarrow{background-image:url(http://cdn.sstatic.net/stackoverflow/img/sprites.png?v=3);background-repeat:no-repeat;overflow:hidden;background-position:0 -435px;float:right;height:13px;margin-top:12px;width:7px}.oembedall-facebook1{border:#1A3C6C solid 1px;padding:0;font:13.34px/1.4 verdana;width:500px}.oembedall-facebook2{background-color:#627add}.oembedall-facebook2 a{color:#e8e8e8;text-decoration:none}.oembedall-facebookBody{background-color:#fff;vertical-align:top;padding:5px}.oembedall-facebookBody .contents{display:inline-block;width:100%}.oembedall-facebookBody div img{float:left;margin-right:5px}div.oembedall-lanyard{-webkit-box-shadow:none;-webkit-transition-delay:0s;-webkit-transition-duration:.4000000059604645s;-webkit-transition-property:width;-webkit-transition-timing-function:cubic-bezier(0.42,0,.58,1);background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;border-bottom-width:0;border-left-width:0;border-right-width:0;border-top-width:0;box-shadow:none;color:#112644;display:block;float:left;font-family:'Trebuchet MS',Trebuchet,sans-serif;font-size:16px;height:253px;line-height:19px;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-width:none;min-height:0;outline-color:#112644;outline-style:none;outline-width:0;overflow-x:visible;overflow-y:visible;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;position:relative;text-align:left;vertical-align:baseline;width:804px}div.oembedall-lanyard .tagline{font-size:1.5em}div.oembedall-lanyard .wrapper{overflow:hidden;clear:both}div.oembedall-lanyard .split{float:left;display:inline}div.oembedall-lanyard .prominent-place .flag:active,div.oembedall-lanyard .prominent-place .flag:focus,div.oembedall-lanyard .prominent-place .flag:hover,div.oembedall-lanyard .prominent-place .flag:link,div.oembedall-lanyard .prominent-place .flag:visited{float:left;display:block;width:48px;height:48px;position:relative;top:-5px;margin-right:10px}div.oembedall-lanyard .place-context{font-size:.889em}div.oembedall-lanyard .prominent-place .sub-place{display:block}div.oembedall-lanyard .prominent-place{font-size:1.125em;line-height:1.1em;font-weight:400}div.oembedall-lanyard .main-date{color:#8CB4E0;font-weight:700;line-height:1.1}div.oembedall-lanyard .first{width:48.57%;margin:0 0 0 2.857%}html{height:100%}body{margin:0!important;padding:5px 20px 26px!important;background-color:#fff;font-family:"Lucida Grande","Segoe UI","Apple SD Gothic Neo","Malgun Gothic","Lucida Sans Unicode",Helvetica,Arial,sans-serif;font-size:.9em;overflow-x:hidden;overflow-y:auto}br,h1,h2,h3,h4,h5,h6{clear:both}hr.page{background:transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;border:0 none;color:#ccc;height:3px;padding:0}hr.underscore{border:0 none!important;height:30px;padding:0;-webkit-margin-before:0;-webkit-margin-after:0}body >:first-child{margin-top:0!important}img.plugin{box-shadow:0 1px 3px rgba(0,0,0,.1);border-radius:3px}iframe{border:0}figure{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0}kbd{border:1px solid #aaa;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-moz-box-shadow:1px 2px 2px #ddd;-webkit-box-shadow:1px 2px 2px #ddd;box-shadow:1px 2px 2px #ddd;background-color:#f9f9f9;background-image:-moz-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-o-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-webkit-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:linear-gradient(top,#eee,#f9f9f9,#eee);padding:1px 3px;font-family:inherit;font-size:.85em}.oembeded .oembed_photo{display:inline-block}img[data-echo]{margin:25px 0;width:100px;height:100px;background:#fff url(../img/ajax.gif) no-repeat center center}.spinner{display:inline-block;width:10px;height:10px;margin-bottom:-.1em;border:2px solid rgba(0,0,0,.5);border-top-color:transparent;border-radius:100%;-webkit-animation:spin 1s infinite linear;animation:spin 1s infinite linear}.spinner:after{content:'';display:block;width:0;height:0;position:absolute;top:-6px;left:0;border:4px solid transparent;border-bottom-color:rgba(0,0,0,.5);-webkit-transform:rotate(45deg);transform:rotate(45deg)}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg)}}@keyframes spin{to{transform:rotate(360deg)}}p.toc{margin:0!important}p.toc ul{padding-left:10px}p.toc>ul{padding:10px;margin:0 10px;display:inline-block;border:1px solid #ededed;border-radius:5px}p.toc li,p.toc ul{list-style-type:none}p.toc li{width:100%;padding:0;overflow:hidden}p.toc li a::after{content:"."}p.toc li a:before{content:"• "}p.toc h5{text-transform:uppercase}p.toc .title{float:left;padding-right:3px}p.toc .number{margin:0;float:right;padding-left:3px;background:#fff;display:none}.markdown{padding:20px}.markdown a{text-decoration:none;vertical-align:baseline}.markdown a:hover{text-decoration:underline}.markdown h1{font-size:2.2em;font-weight:700;margin:1.5em 0 1em}.markdown h2{font-size:1.8em;font-weight:700;margin:1.275em 0 .85em}.markdown h3{font-size:1.6em;font-weight:700;margin:1.125em 0 .75em}.markdown h4{font-size:1.4em;font-weight:700;margin:.99em 0 .66em}.markdown h5{font-size:1.2em;font-weight:700;margin:.855em 0 .57em}.markdown h6{font-size:1em;font-weight:700;margin:.75em 0 .5em}.markdown h1+p,.markdown h1:first-child,.markdown h2+p,.markdown h2:first-child,.markdown h3+p,.markdown h3:first-child,.markdown h4+p,.markdown h4:first-child,.markdown h5+p,.markdown h5:first-child,.markdown h6+p,.markdown h6:first-child{margin-top:0}.markdown hr{border:1px solid #ccc}.markdown p{margin:1em 0;word-wrap:break-word}.markdown ol{list-style-type:decimal}.markdown li{display:list-item;line-height:1.4em}.markdown blockquote{margin:1em 20px}.markdown blockquote>:first-child{margin-top:0}.markdown blockquote>:last-child{margin-bottom:0}.markdown blockquote cite:before{content:'\2014 \00A0'}.markdown .code{border-radius:3px;word-break:break-all;word-wrap:break-word}.markdown pre{border-radius:3px;word-break:break-all;word-wrap:break-word;overflow:auto}.markdown pre code{display:block}.markdown pre>code{border:1px solid #ccc;white-space:pre;padding:.5em;margin:0}.markdown code{border-radius:3px;word-break:break-all;word-wrap:break-word;border:1px solid #ccc;padding:0 5px;margin:0 2px}.markdown img{max-width:100%}.markdown table{padding:0;border-collapse:collapse;border-spacing:0}.markdown table tr td,.markdown table tr th{border:1px solid #ccc;margin:0;padding:6px 13px}.markdown table tr th{font-weight:700}.markdown table tr th>:first-child{margin-top:0}.markdown table tr th>:last-child{margin-bottom:0}.markdown table tr td>:first-child{margin-top:0}.markdown table tr td>:last-child{margin-bottom:0}.markdown em.underline{font-style:normal;text-decoration:underline}.markdown strong.highlight{color:#000;padding:0 5px;background-color:#fdffb6;-webkit-box-shadow:#fdffb6 0 0 5px;-moz-box-shadow:#fdffb6 0 0 5px;box-shadow:#fdffb6 0 0 5px}.clearness{padding:20px;color:#737373;font-size:15px;font-family:"Lucida Grande","Lucida Sans Unicode","Lucida Sans",AppleSDGothicNeo-Medium,'Segoe UI','Malgun Gothic',Verdana,Tahoma,sans-serif;background:#fff;-webkit-font-smoothing:antialiased}.clearness a{color:#1e6ea7}.clearness a:hover{color:#268bd2}.clearness h1,.clearness h2,.clearness h3,.clearness h4,.clearness h5{color:#404040}.clearness h2{border-bottom:1px solid #ccc;line-height:1.7em}.clearness h6{color:#666}.clearness hr{border:1px solid #e6e6e6}.clearness pre>code{font-size:.9em;font-family:Consolas,Inconsolata,Courier,monospace}.clearness blockquote{padding:0 15px;font-style:italic}.clearness blockquote:before{content:"\201C";font-size:40px;margin-left:-20px;color:#aaa}.clearness table{background-color:#fff;border-collapse:separate;border-spacing:2px}.clearness table tr td,.clearness table tr th{border:0;padding:.2em 1em}.clearness table tr th{border-bottom:1px solid #bfbfbf}.clearness table tr td{border-bottom:1px solid #d9d9d9}.clearness table tr:nth-child(2n){background-color:#fff}.hljs{display:block;overflow-x:auto;padding:.5em;background:#f0f0f0;-webkit-text-size-adjust:none}.clojure .hljs-built_in,.hljs,.hljs-subst,.hljs-tag .hljs-title,.lisp .hljs-title,.nginx .hljs-title{color:#000}.apache .hljs-cbracket,.apache .hljs-tag,.asciidoc .hljs-header,.bash .hljs-variable,.coffeescript .hljs-attribute,.django .hljs-variable,.erlang_repl .hljs-function_or_atom,.haml .hljs-symbol,.hljs-addition,.hljs-constant,.hljs-flow,.hljs-parent,.hljs-pragma,.hljs-preprocessor,.hljs-rules .hljs-value,.hljs-stream,.hljs-string,.hljs-tag .hljs-value,.hljs-template_tag,.hljs-title,.markdown .hljs-header,.ruby .hljs-symbol,.ruby .hljs-symbol .hljs-string,.smalltalk .hljs-class,.tex .hljs-command,.tex .hljs-special{color:#800}.asciidoc .hljs-blockquote,.diff .hljs-header,.hljs-annotation,.hljs-chunk,.hljs-comment,.hljs-template_comment,.markdown .hljs-blockquote,.smartquote{color:#888}.asciidoc .hljs-bullet,.asciidoc .hljs-link_url,.go .hljs-constant,.hljs-change,.hljs-date,.hljs-hexcolor,.hljs-literal,.hljs-number,.hljs-regexp,.lasso .hljs-variable,.makefile .hljs-variable,.markdown .hljs-bullet,.markdown .hljs-link_url,.smalltalk .hljs-char,.smalltalk .hljs-symbol{color:#080}.apache .hljs-sqbracket,.asciidoc .hljs-attribute,.asciidoc .hljs-link_label,.clojure .hljs-attribute,.coffeescript .hljs-property,.erlang_repl .hljs-reserved,.haml .hljs-bullet,.hljs-array,.hljs-attr_selector,.hljs-decorator,.hljs-deletion,.hljs-doctype,.hljs-envvar,.hljs-filter .hljs-argument,.hljs-important,.hljs-javadoc,.hljs-label,.hljs-localvars,.hljs-phony,.hljs-pi,.hljs-prompt,.hljs-pseudo,.hljs-shebang,.lasso .hljs-attribute,.markdown .hljs-link_label,.nginx .hljs-built_in,.ruby .hljs-string,.tex .hljs-formula,.vhdl .hljs-attribute{color:#88f}.apache .hljs-tag,.asciidoc .hljs-strong,.bash .hljs-variable,.css .hljs-tag,.hljs-built_in,.hljs-id,.hljs-javadoctag,.hljs-keyword,.hljs-phpdoc,.hljs-request,.hljs-status,.hljs-title,.hljs-type,.hljs-typename,.hljs-winutils,.hljs-yardoctag,.markdown .hljs-strong,.smalltalk .hljs-class,.tex .hljs-command{font-weight:700}.asciidoc .hljs-emphasis,.markdown .hljs-emphasis{font-style:italic}.nginx .hljs-built_in{font-weight:400}.coffeescript .javascript,.javascript .xml,.lasso .markup,.tex .hljs-formula,.xml .css,.xml .hljs-cdata,.xml .javascript,.xml .vbscript{opacity:.5}footer{position:fixed;font-size:.8em;text-align:right;bottom:0;margin-left:-25px;height:20px;width:100%}</style>
</head>
<body class="markdown clearness">

  <h1 id="interviewing-data:-exploratory-graphical-analysis"><a name="interviewing-data:-exploratory-graphical-analysis" href="#interviewing-data:-exploratory-graphical-analysis"></a>Interviewing data: exploratory graphical analysis</h1><h3 id="introducing-tableau-public"><a name="introducing-tableau-public" href="#introducing-tableau-public"></a>Introducing Tableau Public</h3><p>In this week’s class we will work with <a href="http://www.tableausoftware.com/public/"><strong>Tableau Public</strong></a>, which allows you to create a wide variety of interactive charts, maps and tables and organize them into <strong>dashboards</strong> and <strong>stories</strong> that can be saved to the cloud and embedded on the web.</p><p>Tableau was developed for exploratory graphical data analysis, so it is a good tool for exploring a new dataset — filtering, sorting and aggregating the data in different ways while experimenting with various chart types.</p><p>Although Tableau was not designed as a publication tool, the ability to embed finished dashboards and stories has also allowed newsrooms that lack JavaScript coding expertise to create interactive online graphics.</p><h3 id="data:-berkeley-traffic-accidents"><a name="data:-berkeley-traffic-accidents" href="#data:-berkeley-traffic-accidents"></a>Data: Berkeley traffic accidents</h3><p>We will analyze the Berkeley traffic accident data we discussed in Week 1, which is <a href="./data/berkeley_traffic/collisions.csv">here</a>. To make sense of this data, you will also need the <a href="./data/traffic_accidents/SWITRS_codebook.pdf">codebook</a> describing the fields/variables.</p><h3 id="connect-to-the-data"><a name="connect-to-the-data" href="#connect-to-the-data"></a>Connect to the data</h3><p>The data is in a text file with the fields separated by commas, with the suffix <code>.csv</code>, for “comma separated values” — a common data format.</p><p>Open Tableau Public, and from the top menu select <code>Data&gt;Connect to Data</code>. Then select <code>Text File</code> and navigate to where you saved the data, select it and hit <code>Open</code>. At this point, you can view the data, which will be labeled as follows:</p><ul>
<li>Text: <code>Abc</code></li>
<li>Numbers: <code>#</code></li>
<li>Dates: calendar symbol</li>
<li>Geography: globe symbol</li>
</ul><p>Tableau doesn’t always recognize entries correctly, but you can edit fields to give them the correct data type. In a dataset like this, for instance, where many categorical variables are stored as numbers, you may wish to reclassify them as text by selecting <code>String</code>, a computing term for one or a sequence of characters that are treated as text:</p><p><img src="img/class3_1.jpg" alt=""></p><p>In this case, because there are so many fields to reclassify, we’ll edit as required later, only as we use them.</p><p>Once the data has loaded, click <code>Go to Worksheet</code> and you should see a screen like this:</p><p><img src="img/class3_2.jpg" alt=""></p><h3 id="dimensions-and-measures:-categorical-and-continuous"><a name="dimensions-and-measures:-categorical-and-continuous" href="#dimensions-and-measures:-categorical-and-continuous"></a>Dimensions and measures: categorical and continuous</h3><p>Notice that Tableau has divided the fields into <code>Dimensions</code> and <code>Measures</code>. If the fields are all classified correctly, these broadly correspond to categorical and continuous variables. Dimensions are fields containing text or dates, while measures contain numbers.</p><h3 id="columns-and-rows:-x-and-y-axes"><a name="columns-and-rows:-x-and-y-axes" href="#columns-and-rows:-x-and-y-axes"></a>Columns and rows: X and Y axes</h3><p>The starting point for creating any chart or map in Tableau is to place fields into <code>Columns</code> and <code>Rows</code>, which for most charts correspond to the X and Y axes, respectively. When making maps, longitude is the X axis and latitude the Y. If you display the data as a table, then these labels are self-explanatory.</p><h3 id="start-by-asking-questions"><a name="start-by-asking-questions" href="#start-by-asking-questions"></a>Start by asking questions</h3><p>Good data journalism and visualization projects rarely emerge from poking around aimlessly within a dataset. Instead, formulate questions and then try to answer them from the data. These are the questions that will drive our analysis today: Where did the collisions occur? How many people were killed or injured in each one? When did the collisions occur (both by year and day of the week)? In which collisions were cyclists or pedestrians involved?</p><h3 id="map-the-position-of-each-collision"><a name="map-the-position-of-each-collision" href="#map-the-position-of-each-collision"></a>Map the position of each collision</h3><p>We will start by placing all the collisions as points on a map. From the codebook, notice that longitude and latitude are in the fields <code>Point X</code> and <code>Point Y</code>. We need to tell Tableau that this is the case. Select <code>Point X</code>, click on the little downward-pointing triangle that appears, and select <code>Geographic Role&gt;Longitude</code>. Similarly, tell Tableau that <code>Point Y</code> is latitude. Both should now be labeled with the globe symbol.</p><p>Drag <code>Point X</code> into Rows and <code>Point Y</code> into columns. If Tableau does not recognize that you want a make a map, click on <code>Show Me</code> and then hover over and click on <code>symbol map</code>. <code>Show Me</code> reveals the types of chart that Tableau can draw, and is your go-to resource when experimenting with different visualization possibilities. Click on it again to hide the options.</p><p>The screen should now look like this:</p><p><img src="img/class3_3.jpg" alt=""></p><p>Why is there a single point, somewhere in the Sierra Nevada? Look at <code>Columns</code> and <code>Rows</code>, and notice that, by default, Tableau has aggregated all the longitudes and latitudes, calculating an average. Turn off that aggregation by selecting <code>Analysis&gt;Aggregate Measures</code> from the top menu.</p><p>There should now be two clusters of points, one paradoxically lying just off the coast of West Africa. Hover over these points, and notice that these have latitudes and longitudes of zero.  We can examine this data by right-clicking on the dots, selecting <code>View Data</code> and clicking the <code>Underlying</code> tab. These are collisions for which there is no latitude and longitude in the dataset, sitting at what map-makers sometimes call “null island.”</p><p>Ideally, we would want to look at the addresses for these collisions and assign their locations — an example of the data “cleaning” that is often required before analyzing and visualizing a dataset. But for now we will ignore them and move on.</p><p>Click on the rectangle symbol on the controls at the top left of the map, then draw a small rectangle with your mouse around the points in Berkeley to zoom in. You may need to do this a few times to get the points filling most of the map. You can also pan the map by clicking on it and holding, then moving your mouse (unfortunately, this doesn’t well work with a trackpad). On the way in, you’ll notice a couple of points outside of Berkeley — more data cleaning required there!</p><p>The map should look something like this:</p><p><img src="img/class3_4.jpg" alt=""></p><p>Tableau’s default basemap is very stripped down, but we can add more features. Select <code>Map&gt;Map Options</code> form the top menu, and check <code>Streets and Highways</code>.</p><p>The map should now look like this:</p><p><img src="img/class3_5.jpg" alt=""></p><h3 id="encode-other-variables-using-area-and-color"><a name="encode-other-variables-using-area-and-color" href="#encode-other-variables-using-area-and-color"></a>Encode other variables using area and color</h3><p>Close the <code>Map Options</code> panel to show the variables in the dataset once more. <code>Injured</code> is a continuous variable giving the number of people injured in each collision. Drag and drop it onto <code>Size</code>. The points will resize, and a legend will appear — notice that Tableau’s default behavior is to size cicles correctly, by area:</p><p><img src="img/class3_6.jpg" alt=""></p><p><code>Crashsev</code> is a categorical variable giving the severity of the collision: fatal and three levels of injury, rated by of the most serious injury suffered. To correct the data type, select <code>Crashsev</code>, then click on the downward-pointing triangle and select <code>Convert to Dimension</code>. It will now move to the Dimensions panel. Hover again and select <code>Change Data Type&gt;String</code>. It should now have an <code>Abc</code> label, designating it as text.</p><p>Drag and drop <code>Crashsev</code> to <code>Color</code>. The map should now look this:</p><p><img src="img/class3_7.jpg" alt=""></p><p>What if you want to highlight the difference between collisions in which people died, and all of the others? First remove <code>Crashsev</code> from <code>Color</code>, either by dragging and dropping it back into the <code>Data</code> panel, or using the back arrow at top left. These controls are useful for undoing failed experiments, and stepping back and forth through your actions with a dataset.</p><p>Now click on <code>Crashsev</code> and select <code>Create Group</code>. At the dialog box, select 1, click <code>Group</code> and call it “Fatal.” Select 2, 3 and 4, click <code>Group</code> and call this group “Injuries only.” Name the new variable “Crash severity.” When the dialog box looks like this, click <code>OK</code>:</p><p><img src="img/class3_8.jpg" alt=""></p><p>Drag the new variable to <code>Color</code>. The map should look like this:</p><p><img src="img/class3_9.jpg" alt=""></p><p>Tableau’s default color scheme for categorical variables has picked blue and orange, on opposite sides of the color wheel. That’s OK, but the vibrant orange tends to dominate the blue, so let’s change the colors.</p><p>Under <code>Marks</code>, click <code>Color&gt;Edit Colors</code>, and double-click on the color square for “fatal” to call up a color picker: the first three options allow you to use a color wheel, RGB sliders, and a color selector, where you can choose the <code>Web Safe Colors</code> palette to pick colors by their HEX values. Type a value of <code>ffcc00</code> for a yellow, highlight it in the panel above and click OK. Repeat the process for injury crashes, giving them a HEX value of <code>999999</code>, for a gray. Click <code>OK</code> again to update the color scheme and exit the dialog box.</p><p>This is better, but is clear from reviewing the map that some circles lie over the top of one another. Adding some transparency will help reveal overlapping circles. Click on <code>Color</code>, and reduce the transparency to 60%. Also add a border to help delineate each circle, selecting the gray at the base of the color ramp that starts with black.</p><p>The map should now look like this:</p><p><img src="img/class3_10.jpg" alt=""></p><h3 id="create-a-new-calculated-field,-and-resize-the-circles"><a name="create-a-new-calculated-field,-and-resize-the-circles" href="#create-a-new-calculated-field,-and-resize-the-circles"></a>Create a new calculated field, and resize the circles</h3><p>Reviewing the map again, there is still a problem with the fatal crashes — any with deaths but no injuries are so small they are just about invisible. It makes little intuitive sense to de-emphasize crashes in which someone died, compared to those causing a single injury. We can fix that by resizing the circles to reflect the total number of deaths <em>and</em> injuries.</p><p>Drag <code>Injured</code> back to the <code>Data</code> panel, and notice that more fatal crashes appear. Then from the top menu select <code>Analysis&gt;Create Calculated Field</code>, and fill in the dialog box as follows, calling the new field <code>Killed and injured</code>, then click <code>OK</code>:</p><p><img src="img/class3_11.jpg" alt=""></p><p>Now drag the new field to <code>Size</code>, and the map should look like this:</p><p><img src="img/class3_12.jpg" alt=""></p><p>Now hover over the legend, click on the small downward-pointing triangle and select <code>Edit Sizes</code>. At the dialog box, check both <code>Start value in legend</code> and <code>End value for range</code>. This will ensure that the legend and sizes remain fixed when we later apply filters to the data.</p><h3 id="edit-the-tooltips"><a name="edit-the-tooltips" href="#edit-the-tooltips"></a>Edit the tooltips</h3><p>Hover over one of the points on the map, and see that the tooltip displays values for each of the variables we have added to the map so far. The most useful <em>additional</em> information to provide in a tooltip, not evident at first glance, is the date of each collision, and a breakdown of the numbers killed and injured, so drag <code>Date</code>, <code>Injured</code> and <code>Killed</code> to <code>Tooltip</code>. Click on <code>Tooltip</code> and edit at the dialog box to remove the other variables. Also uncheck <code>Include command buttons</code>. This turns off some additional Tableau tooltip functionality, giving a plain tooltip:</p><p><img src="img/class3_13.jpg" alt=""></p><p>We can change the format of the dates shown. Click on <code>Date</code> in the <code>Dimensions</code> panel, select <code>Default Properties&gt;Date Format&gt;Standard Long Date</code> and click <code>OK</code>. Hover over a point to view the new format in the tooltip.</p><h3 id="save-to-the-cloud"><a name="save-to-the-cloud" href="#save-to-the-cloud"></a>Save to the cloud</h3><p>Right-click on <code>Sheet 1</code>, select <code>Rename Sheet</code>, and call it “Map”.</p><p>Having finished the map, now is a good time to save our work. From the top menu, select <code>File&gt;Save To Web</code>. At the logon dialog box enter your Tableau Public account details, give the Wookbook a suitable name and click <code>Save</code>. When the save is complete, you can close that window.</p><h3 id="make-a-column-chart-showing-collisions-by-year"><a name="make-a-column-chart-showing-collisions-by-year" href="#make-a-column-chart-showing-collisions-by-year"></a>Make a column chart showing collisions by year</h3><p>From the top menu, select <code>Worksheet&gt;New Worksheet</code>. Now we will create a column chart showing the number of collisions by year. <code>Year</code> is among the variables in the dataset, but we will instead put <code>Date</code> on the X axis by dragging it into <code>Columns</code>, to demonstrate Tableau’s flexibility in working with dates and times.</p><p>As a default, Tableau should select <code>YEAR(date)</code>, which is what we require here. Click on the downward-pointing triangle to see the other available options.</p><p>The total number of collisions is given by a simple aggregation of the data: a count of the unique <code>CaseID</code> numbers. Drag <code>CaseID</code> to <code>Rows</code>. Tableau should default to a line graph, aggregating the data by adding up the <code>CaseID</code> numbers: <code>SUM(CaseID)</code>. To change the aggregation, click on the downward pointing triangle to the right and select <code>Measure&gt;Count</code>.</p><p>Under <code>Marks</code>, change <code>Automatic</code> to <code>Bar</code> to switch from a line chart to a bar/column chart, which should look like this:</p><p><img src="img/class3_14.jpg" alt=""></p><p>Drag <code>Crash severity</code> to <code>Color</code>, and notice how the color scheme we set on the map for this variable carries through to the new sheet. Select <code>Color&gt;Edit Colors</code> and adjust the transparency and add a gray border to the bars, as we did for the circles on the map.</p><p>Right-click on the Y axis and select <code>Edit Axis</code>, and edit the dialog box as follows. Selecting a <code>Fixed</code> axis will prevent it from resizing when we later filter the data:</p><p><img src="img/class3_15.jpg" alt=""></p><p>Disable tooltips for the column chart by clicking <code>Tooltip</code>, deleting everything, then clicking <code>OK</code>.</p><p>The label “Date” at the top of the chart adds little, so right-click on it and select <code>Hide Field Labels for Columns</code>.</p><p>Reviewing the column chart, there are possibilities to remove some chart junk and improve readability. We don’t need the rectangle surrounding the chart, and some horizontal grid lines would help users estimate the data values.</p><p>From the top menu, select <code>Format&gt;Borders</code>. In the <code>Sheet</code> tab in the <code>Format Borders</code> panel, select <code>Row Divider&gt;Pane&gt;None</code> and <code>Column Divider&gt;Pane&gt;None</code> to remove the borders.</p><p>Next, from the top menu, select <code>Format&gt;Lines</code>. In the <code>Format Lines</code> panel, select the <code>Rows</code> tab and select a solid <code>Grid Line</code>. The tick marks are now redundant, so select <code>Axis Ticks&gt;None</code>. Switch to the <code>Columns</code> tab and remove the tick marks from the X axis, as well.</p><p>Rename the sheet as <code>Column chart: Years</code> and save to the web as before.</p><p>The bar chart should look like this:</p><p><img src="img/class3_16.jpg" alt=""></p><h3 id="make-a-column-chart-showing-collisions-by-day-of-the-week"><a name="make-a-column-chart-showing-collisions-by-day-of-the-week" href="#make-a-column-chart-showing-collisions-by-day-of-the-week"></a>Make a column chart showing collisions by day of the week</h3><p>We don’t need to draw this chart from scratch, because it can be made with just a simple edit from the previous chart. Click on the <code>Column chart: Years</code> tab and select <code>Duplicate Sheet</code>. In <code>Columns</code>, click on the downward-pointing triangle for <code>YEAR(Date)</code>, and select <code>More&gt;Weekday</code>. Edit the axis so that the <code>Fixed</code> range ends at 550.</p><p>Giving the full name for each day is unneccesary. In the <code>Format Lines</code> panel (open it again if you have closed it), select <code>Fields&gt;WEEKDAY(Date)</code>. Select the <code>Header</code> tab and select <code>Dates&gt;Abbreviation</code>.</p><p>Close the <code>Format</code> panel, rename the sheet <code>Column chart: Weekday</code> and save to the web as before.</p><p>The chart should look like this:</p><p><img src="img/class3_17.jpg" alt=""></p><h3 id="create-filters-for-the-data"><a name="create-filters-for-the-data" href="#create-filters-for-the-data"></a>Create filters for the data</h3><p>We will now filter the data to look at collisions in which pedestrians or bicyles were involved. Go back to the Map worksheet. <code>Pedcol</code> is the first relevant variable; to make it display intuitively, click on it and select <code>Create Group</code>. Edit the dialog box to look like this, and click <code>OK</code>:</p><p><img src="img/class3_18.jpg" alt=""></p><p>Repeat the process for <code>Biccol</code>, calling the new field “Cyclist involved?” Now drag each of the new fields to <code>Filters</code>. At the dialog box, select <code>All</code> and then <code>OK</code>:</p><p><img src="img/class3_19.jpg" alt=""></p><p>This has created the filters; now we need to create the controls. Hover over each variable in <code>Filters</code>, click on the downward-pointing triangle, and select <code>Show Quick Filter</code>. A filter control should now appear to the right of the chart. The default is a series of check boxes, which isn’t really suitable here, but we can change each control by hovering over its title and selecting <code>Single Value (Dropdown)</code>.</p><p>Now hover over each variable in <code>Filters</code> and select <code>Apply to Worksheets&gt;All Using This Data Source</code>. This will allow the filters to control the map and both charts in unison. Set both filters to the starting state of <code>All</code>, and the map should look like this:</p><p><img src="img/class3_20.jpg" alt=""></p><h3 id="combine-the-worksheets-into-a-dashboard"><a name="combine-the-worksheets-into-a-dashboard" href="#combine-the-worksheets-into-a-dashboard"></a>Combine the worksheets into a dashboard</h3><p>From the top menu, select <code>Dashboard&gt;New Dashboard</code>. We can set the size of the dashboard to fit the web page on which we want to embed it, and this can be a <code>Range</code>, giving some basic responsive design. To see how this works, change the <code>Max</code> width (w) to 1000 pixels, allowing the dashboard to expand to fill most of a standard desktop computer screen.</p><p>Drag <code>Map</code> into the dashboard. The default title of “Map” isn’t very informative, so right-click on that and select <code>Hide Title</code>.</p><p>When adding sheets to the dashboard, You can make them <code>Tiled</code> or <code>Floating</code>, which allows new items to be placed over one another. Here we will stick with the <code>Tiled</code> option. Drag the weekday bar chart to the lower half of the map. Drop it when you see a gray rectangle in this position. Drag the year bar chart to the right of the weekday bar chart</p><p>Notice that Tableau allows you to drop various other items into a dashboard: horizontal and vertical containers, text boxes, images, web pages and blank space. Drag a <code>Blank</code> between the two charts, and reduce its size to provide some modest padding between the two. This works like adjusting the size of normal windows on your computer.</p><p>Now is the time to adjust the sizes and tweak the formats of the items on the dashboard to give a pleasing display. You may need to rotate the X axis labels on the weekday bar chart: right-click on any of them to call up the <code>Rotate Label</code> option. You may also need to adjust the position of the X axes on the two bar charts so that they align. I also suggest going back to the sheet for the year bar chart, selecting <code>Size</code> and adjusting the slider to make the width of the bars on the dashboard match those of the other chart.</p><p>All of this will take some trial and error, and you may also need to pan and zoom the map to keep all the points nicely in view.</p><p>From the top menu select <code>Dashboard&gt;Show Title</code>, replace <code>&lt;Sheet Name&gt;</code> with an appropriate title/subtitle and adjust the alignment, fonts and styles as desired.</p><p>Rename the dashboard as <code>Berkeley traffic accidents (2007-2011)</code>, save to the web, and note that the resulting window provides code to embed the interactive on your website.</p><p>The finished dashboard should look something like this:</p><p><img src="img/class3_21.jpg" alt=""></p><p>Take some time now to explore the data using the filters.</p><h3 id="from-dashboards-to-stories"><a name="from-dashboards-to-stories" href="#from-dashboards-to-stories"></a>From dashboards to stories</h3><p>Tableau also allows you to create stories, which combine successive dashboards into a step-by-step narrative. Having already made a dashboard, you will find these simple and intuitive to create. Select <code>New Blank Point</code> to add a new scene to the narrative.</p><h3 id="assignment"><a name="assignment" href="#assignment"></a>Assignment</h3><ul>
<li>Formulate some more questions about the Berkeley traffic accident data.</li>
<li>Produce a second dashboard that addresses these questions.</li>
<li>Combine the two dashboards into a Tableau story.</li>
<li>Email your questions, and the url for the finished visualization on the Tableau website, to me. Also suggest any other data, not available in the dataset, that might improve the analysis.</li>
</ul><h3 id="further-reading/viewing"><a name="further-reading/viewing" href="#further-reading/viewing"></a>Further reading/viewing</h3><p><a href="http://www.tableausoftware.com/public/training">Tableau Public training videos</a></p><p><a href="http://www.tableausoftware.com/public/gallery/all">Gallery of Tableau Public visualizations</a>: You can download any of these examples using the links at bottom right and open the files (which will have the extension <code>.twbx</code>) with Tableau Public to see how they were put together.</p><p><a href="http://www.tableausoftware.com/public/knowledgebase/all">Tableau Public Knowledge Base</a>: Useful resource with the answers to many queries about how to use the software.</p>

<footer style="position:fixed; font-size:.8em; text-align:right; bottom:0px; margin-left:-25px; height:20px; width:100%;">generated by <a href="http://pad.haroopress.com" target="_blank">haroopad</a></footer>
</body>
</html>
