<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>class2.html</title>
  <meta name="generator" content="Haroopad 0.13.1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>div.oembedall-githubrepos{border:1px solid #DDD;border-radius:4px;list-style-type:none;margin:0 0 10px;padding:8px 10px 0;font:13.34px/1.4 helvetica,arial,freesans,clean,sans-serif;width:452px;background-color:#fff}div.oembedall-githubrepos .oembedall-body{background:-moz-linear-gradient(center top,#FAFAFA,#EFEFEF);background:-webkit-gradient(linear,left top,left bottom,from(#FAFAFA),to(#EFEFEF));border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-top:1px solid #EEE;margin-left:-10px;margin-top:8px;padding:5px 10px;width:100%}div.oembedall-githubrepos h3{font-size:14px;margin:0;padding-left:18px;white-space:nowrap}div.oembedall-githubrepos p.oembedall-description{color:#444;font-size:12px;margin:0 0 3px}div.oembedall-githubrepos p.oembedall-updated-at{color:#888;font-size:11px;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats{border:none;float:right;font-size:11px;font-weight:700;padding-left:15px;position:relative;z-index:5;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats li{border:none;color:#666;display:inline-block;list-style-type:none;margin:0!important}div.oembedall-githubrepos ul.oembedall-repo-stats li a{background-color:transparent;border:none;color:#666!important;background-position:5px -2px;background-repeat:no-repeat;border-left:1px solid #DDD;display:inline-block;height:21px;line-height:21px;padding:0 5px 0 23px}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a{border-left:medium none;margin-right:-3px}div.oembedall-githubrepos ul.oembedall-repo-stats li a:hover{background:5px -27px no-repeat #4183C4;color:#FFF!important;text-decoration:none}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a:hover{border-bottom-left-radius:3px;border-top-left-radius:3px}ul.oembedall-repo-stats li:last-child a:hover{border-bottom-right-radius:3px;border-top-right-radius:3px}span.oembedall-closehide{background-color:#aaa;border-radius:2px;cursor:pointer;margin-right:3px}div.oembedall-container{margin-top:5px;text-align:left}.oembedall-ljuser{font-weight:700}.oembedall-ljuser img{vertical-align:bottom;border:0;padding-right:1px}.oembedall-stoqembed{border-bottom:1px dotted #999;float:left;overflow:hidden;width:730px;line-height:1;background:#FFF;color:#000;font-family:Arial,Liberation Sans,DejaVu Sans,sans-serif;font-size:80%;text-align:left;margin:0;padding:0}.oembedall-stoqembed a{color:#07C;text-decoration:none;margin:0;padding:0}.oembedall-stoqembed a:hover{text-decoration:underline}.oembedall-stoqembed a:visited{color:#4A6B82}.oembedall-stoqembed h3{font-family:Trebuchet MS,Liberation Sans,DejaVu Sans,sans-serif;font-size:130%;font-weight:700;margin:0;padding:0}.oembedall-stoqembed .oembedall-reputation-score{color:#444;font-size:120%;font-weight:700;margin-right:2px}.oembedall-stoqembed .oembedall-user-info{height:35px;width:185px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-gravatar32{float:left;height:32px;width:32px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-details{float:left;margin-left:5px;overflow:hidden;white-space:nowrap;width:145px}.oembedall-stoqembed .oembedall-question-hyperlink{font-weight:700}.oembedall-stoqembed .oembedall-stats{background:#EEE;margin:0 0 0 7px;padding:4px 7px 6px;width:58px}.oembedall-stoqembed .oembedall-statscontainer{float:left;margin-right:8px;width:86px}.oembedall-stoqembed .oembedall-votes{color:#555;padding:0 0 7px;text-align:center}.oembedall-stoqembed .oembedall-vote-count-post{font-size:240%;color:#808185;display:block;font-weight:700}.oembedall-stoqembed .oembedall-views{color:#999;padding-top:4px;text-align:center}.oembedall-stoqembed .oembedall-status{margin-top:-3px;padding:4px 0;text-align:center;background:#75845C;color:#FFF}.oembedall-stoqembed .oembedall-status strong{color:#FFF;display:block;font-size:140%}.oembedall-stoqembed .oembedall-summary{float:left;width:635px}.oembedall-stoqembed .oembedall-excerpt{line-height:1.2;margin:0;padding:0 0 5px}.oembedall-stoqembed .oembedall-tags{float:left;line-height:18px}.oembedall-stoqembed .oembedall-tags a:hover{text-decoration:none}.oembedall-stoqembed .oembedall-post-tag{background-color:#E0EAF1;border-bottom:1px solid #3E6D8E;border-right:1px solid #7F9FB6;color:#3E6D8E;font-size:90%;line-height:2.4;margin:2px 2px 2px 0;padding:3px 4px;text-decoration:none;white-space:nowrap}.oembedall-stoqembed .oembedall-post-tag:hover{background-color:#3E6D8E;border-bottom:1px solid #37607D;border-right:1px solid #37607D;color:#E0EAF1}.oembedall-stoqembed .oembedall-fr{float:right}.oembedall-stoqembed .oembedall-statsarrow{background-image:url(http://cdn.sstatic.net/stackoverflow/img/sprites.png?v=3);background-repeat:no-repeat;overflow:hidden;background-position:0 -435px;float:right;height:13px;margin-top:12px;width:7px}.oembedall-facebook1{border:1px solid #1A3C6C;padding:0;font:13.34px/1.4 verdana;width:500px}.oembedall-facebook2{background-color:#627add}.oembedall-facebook2 a{color:#e8e8e8;text-decoration:none}.oembedall-facebookBody{background-color:#fff;vertical-align:top;padding:5px}.oembedall-facebookBody .contents{display:inline-block;width:100%}.oembedall-facebookBody div img{float:left;margin-right:5px}div.oembedall-lanyard{-webkit-box-shadow:none;-webkit-transition-delay:0s;-webkit-transition-duration:.4000000059604645s;-webkit-transition-property:width;-webkit-transition-timing-function:cubic-bezier(0.42,0,.58,1);background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;border-width:0;box-shadow:none;color:#112644;display:block;float:left;font-family:'Trebuchet MS',Trebuchet,sans-serif;font-size:16px;height:253px;line-height:19px;margin:0;max-width:none;min-height:0;outline:#112644 0;overflow-x:visible;overflow-y:visible;padding:0;position:relative;text-align:left;vertical-align:baseline;width:804px}div.oembedall-lanyard .tagline{font-size:1.5em}div.oembedall-lanyard .wrapper{overflow:hidden;clear:both}div.oembedall-lanyard .split{float:left;display:inline}div.oembedall-lanyard .prominent-place .flag:active,div.oembedall-lanyard .prominent-place .flag:focus,div.oembedall-lanyard .prominent-place .flag:hover,div.oembedall-lanyard .prominent-place .flag:link,div.oembedall-lanyard .prominent-place .flag:visited{float:left;display:block;width:48px;height:48px;position:relative;top:-5px;margin-right:10px}div.oembedall-lanyard .place-context{font-size:.889em}div.oembedall-lanyard .prominent-place .sub-place{display:block}div.oembedall-lanyard .prominent-place{font-size:1.125em;line-height:1.1em;font-weight:400}div.oembedall-lanyard .main-date{color:#8CB4E0;font-weight:700;line-height:1.1}div.oembedall-lanyard .first{width:48.57%;margin:0 0 0 2.857%}.mermaid .label{color:#333}.node circle,.node polygon,.node rect{fill:#cde498;stroke:#13540c;stroke-width:1px}.edgePath .path{stroke:green;stroke-width:1.5px}.cluster rect{fill:#cdffb2;rx:40;stroke:#6eaa49;stroke-width:1px}.cluster text{fill:#333}.actor{stroke:#13540c;fill:#cde498}text.actor{fill:#000;stroke:none}.actor-line{stroke:grey}.messageLine0{stroke-width:1.5;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#333}.messageLine1{stroke-width:1.5;stroke-dasharray:"2 2";stroke:#333}#arrowhead{fill:#333}#crosshead path{fill:#333!important;stroke:#333!important}.messageText{fill:#333;stroke:none}.labelBox{stroke:#326932;fill:#cde498}.labelText,.loopText{fill:#000;stroke:none}.loopLine{stroke-width:2;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#326932}.note{stroke:#6eaa49;fill:#fff5ad}.noteText{fill:#000;stroke:none;font-family:'trebuchet ms',verdana,arial;font-size:14px}.section{stroke:none;opacity:.2}.section0,.section2{fill:#6eaa49}.section1,.section3{fill:#fff;opacity:.2}.sectionTitle0,.sectionTitle1,.sectionTitle2,.sectionTitle3{fill:#333}.sectionTitle{text-anchor:start;font-size:11px;text-height:14px}.grid .tick{stroke:lightgrey;opacity:.3;shape-rendering:crispEdges}.grid path{stroke-width:0}.today{fill:none;stroke:red;stroke-width:2px}.task{stroke-width:2}.taskText{text-anchor:middle;font-size:11px}.taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px}.taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}.taskText0,.taskText1,.taskText2,.taskText3{fill:#fff}.task0,.task1,.task2,.task3{fill:#487e3a;stroke:#13540c}.taskTextOutside0,.taskTextOutside1,.taskTextOutside2,.taskTextOutside3{fill:#000}.active0,.active1,.active2,.active3{fill:#cde498;stroke:#13540c}.activeText0,.activeText1,.activeText2,.activeText3{fill:#000!important}.done0,.done1,.done2,.done3{stroke:grey;fill:lightgrey;stroke-width:2}.doneText0,.doneText1,.doneText2,.doneText3{fill:#000!important}.crit0,.crit1,.crit2,.crit3{stroke:#f88;fill:red;stroke-width:2}.activeCrit0,.activeCrit1,.activeCrit2,.activeCrit3{stroke:#f88;fill:#cde498;stroke-width:2}.doneCrit0,.doneCrit1,.doneCrit2,.doneCrit3{stroke:#f88;fill:lightgrey;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}.activeCritText0,.activeCritText1,.activeCritText2,.activeCritText3,.doneCritText0,.doneCritText1,.doneCritText2,.doneCritText3{fill:#000!important}.titleText{text-anchor:middle;font-size:18px;fill:#000}text{font-family:'trebuchet ms',verdana,arial;font-size:14px}html{height:100%}body{margin:0!important;padding:5px 20px 26px!important;background-color:#fff;font-family:"Lucida Grande","Segoe UI","Apple SD Gothic Neo","Malgun Gothic","Lucida Sans Unicode",Helvetica,Arial,sans-serif;font-size:.9em;overflow-x:hidden;overflow-y:auto}br,h1,h2,h3,h4,h5,h6{clear:both}hr.page{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x;border:0;height:3px;padding:0}hr.underscore{border-top-style:dashed!important}body >:first-child{margin-top:0!important}img.plugin{box-shadow:0 1px 3px rgba(0,0,0,.1);border-radius:3px}iframe{border:0}figure{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0}kbd{border:1px solid #aaa;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-moz-box-shadow:1px 2px 2px #ddd;-webkit-box-shadow:1px 2px 2px #ddd;box-shadow:1px 2px 2px #ddd;background-color:#f9f9f9;background-image:-moz-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-o-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-webkit-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:linear-gradient(top,#eee,#f9f9f9,#eee);padding:1px 3px;font-family:inherit;font-size:.85em}.oembeded .oembed_photo{display:inline-block}img[data-echo]{margin:25px 0;width:100px;height:100px;background:url(../img/ajax.gif) center center no-repeat #fff}.spinner{display:inline-block;width:10px;height:10px;margin-bottom:-.1em;border:2px solid rgba(0,0,0,.5);border-top-color:transparent;border-radius:100%;-webkit-animation:spin 1s infinite linear;animation:spin 1s infinite linear}.spinner:after{content:'';display:block;width:0;height:0;position:absolute;top:-6px;left:0;border:4px solid transparent;border-bottom-color:rgba(0,0,0,.5);-webkit-transform:rotate(45deg);transform:rotate(45deg)}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg)}}@keyframes spin{to{transform:rotate(360deg)}}p.toc{margin:0!important}p.toc ul{padding-left:10px}p.toc>ul{padding:10px;margin:0 10px;display:inline-block;border:1px solid #ededed;border-radius:5px}p.toc li,p.toc ul{list-style-type:none}p.toc li{width:100%;padding:0;overflow:hidden}p.toc li a::after{content:"."}p.toc li a:before{content:"• "}p.toc h5{text-transform:uppercase}p.toc .title{float:left;padding-right:3px}p.toc .number{margin:0;float:right;padding-left:3px;background:#fff;display:none}input.task-list-item{margin-left:-1.62em}.markdown{font-family:"Hiragino Sans GB","Microsoft YaHei",STHeiti,SimSun,"Lucida Grande","Lucida Sans Unicode","Lucida Sans",'Segoe UI',AppleSDGothicNeo-Medium,'Malgun Gothic',Verdana,Tahoma,sans-serif;padding:20px}.markdown a{text-decoration:none;vertical-align:baseline}.markdown a:hover{text-decoration:underline}.markdown h1{font-size:2.2em;font-weight:700;margin:1.5em 0 1em}.markdown h2{font-size:1.8em;font-weight:700;margin:1.275em 0 .85em}.markdown h3{font-size:1.6em;font-weight:700;margin:1.125em 0 .75em}.markdown h4{font-size:1.4em;font-weight:700;margin:.99em 0 .66em}.markdown h5{font-size:1.2em;font-weight:700;margin:.855em 0 .57em}.markdown h6{font-size:1em;font-weight:700;margin:.75em 0 .5em}.markdown h1+p,.markdown h1:first-child,.markdown h2+p,.markdown h2:first-child,.markdown h3+p,.markdown h3:first-child,.markdown h4+p,.markdown h4:first-child,.markdown h5+p,.markdown h5:first-child,.markdown h6+p,.markdown h6:first-child{margin-top:0}.markdown hr{border:1px solid #ccc}.markdown p{margin:1em 0;word-wrap:break-word}.markdown ol{list-style-type:decimal}.markdown li{display:list-item;line-height:1.4em}.markdown blockquote{margin:1em 20px}.markdown blockquote>:first-child{margin-top:0}.markdown blockquote>:last-child{margin-bottom:0}.markdown blockquote cite:before{content:'\2014 \00A0'}.markdown .code{border-radius:3px;word-wrap:break-word}.markdown pre{border-radius:3px;word-wrap:break-word;border:1px solid #ccc;overflow:auto;padding:.5em}.markdown pre code{border:0;display:block}.markdown pre>code{font-family:Consolas,Inconsolata,Courier,monospace;font-weight:700;white-space:pre;margin:0}.markdown code{border-radius:3px;word-wrap:break-word;border:1px solid #ccc;padding:0 5px;margin:0 2px}.markdown img{max-width:100%}.markdown mark{color:#000;background-color:#fcf8e3}.markdown table{padding:0;border-collapse:collapse;border-spacing:0;margin-bottom:16px}.markdown table tr td,.markdown table tr th{border:1px solid #ccc;margin:0;padding:6px 13px}.markdown table tr th{font-weight:700}.markdown table tr th>:first-child{margin-top:0}.markdown table tr th>:last-child{margin-bottom:0}.markdown table tr td>:first-child{margin-top:0}.markdown table tr td>:last-child{margin-bottom:0}.github{padding:20px;font-family:"Helvetica Neue",Helvetica,"Hiragino Sans GB","Microsoft YaHei",STHeiti,SimSun,"Segoe UI",AppleSDGothicNeo-Medium,'Malgun Gothic',Arial,freesans,sans-serif;font-size:15px;background:#fff;line-height:1.6;-webkit-font-smoothing:antialiased}.github a{color:#3269a0}.github a:hover{color:#4183c4}.github h2{border-bottom:1px solid #e6e6e6;line-height:1.6}.github h6{color:#777}.github hr{border:1px solid #e6e6e6}.github pre>code{font-size:.9em;font-family:Consolas,Inconsolata,Courier,monospace}.github blockquote>code,.github h1>code,.github h2>code,.github h3>code,.github h4>code,.github h5>code,.github h6>code,.github li>code,.github p>code,.github td>code{background-color:rgba(0,0,0,.07);font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:85%;padding:.2em .5em;border:0}.github blockquote{border-left:4px solid #e6e6e6;padding:0 15px;font-style:italic}.github table{background-color:#fafafa}.github table tr td,.github table tr th{border:1px solid #e6e6e6}.github table tr:nth-child(2n){background-color:#f2f2f2}.hljs{display:block;overflow-x:auto;padding:.5em;background:#fdf6e3;color:#657b83;-webkit-text-size-adjust:none}.diff .hljs-header,.hljs-comment,.hljs-doctype,.hljs-javadoc,.hljs-pi,.lisp .hljs-string{color:#93a1a1}.css .hljs-tag,.hljs-addition,.hljs-keyword,.hljs-request,.hljs-status,.hljs-winutils,.method,.nginx .hljs-title{color:#859900}.hljs-command,.hljs-dartdoc,.hljs-hexcolor,.hljs-link_url,.hljs-number,.hljs-phpdoc,.hljs-regexp,.hljs-rules .hljs-value,.hljs-string,.hljs-tag .hljs-value,.tex .hljs-formula{color:#2aa198}.css .hljs-function,.hljs-built_in,.hljs-chunk,.hljs-decorator,.hljs-id,.hljs-identifier,.hljs-localvars,.hljs-title,.vhdl .hljs-literal{color:#268bd2}.hljs-attribute,.hljs-class .hljs-title,.hljs-constant,.hljs-link_reference,.hljs-parent,.hljs-type,.hljs-variable,.lisp .hljs-body,.smalltalk .hljs-number{color:#b58900}.css .hljs-pseudo,.diff .hljs-change,.hljs-attr_selector,.hljs-cdata,.hljs-header,.hljs-pragma,.hljs-preprocessor,.hljs-preprocessor .hljs-keyword,.hljs-shebang,.hljs-special,.hljs-subst,.hljs-symbol,.hljs-symbol .hljs-string{color:#cb4b16}.hljs-deletion,.hljs-important{color:#dc322f}.hljs-link_label{color:#6c71c4}.tex .hljs-formula{background:#eee8d5}.MathJax_Hover_Frame{border-radius:.25em;-webkit-border-radius:.25em;-moz-border-radius:.25em;-khtml-border-radius:.25em;box-shadow:0 0 15px #83A;-webkit-box-shadow:0 0 15px #83A;-moz-box-shadow:0 0 15px #83A;-khtml-box-shadow:0 0 15px #83A;border:1px solid #A6D!important;display:inline-block;position:absolute}.MathJax_Hover_Arrow{position:absolute;width:15px;height:11px;cursor:pointer}#MathJax_About{position:fixed;left:50%;width:auto;text-align:center;border:3px outset;padding:1em 2em;background-color:#DDD;color:#000;cursor:default;font-family:message-box;font-size:120%;font-style:normal;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;-khtml-border-radius:15px;box-shadow:0 10px 20px gray;-webkit-box-shadow:0 10px 20px gray;-moz-box-shadow:0 10px 20px gray;-khtml-box-shadow:0 10px 20px gray;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}.MathJax_Menu{position:absolute;background-color:#fff;color:#000;width:auto;padding:5px 0;border:1px solid #CCC;margin:0;cursor:default;font:menu;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;-khtml-border-radius:5px;box-shadow:0 10px 20px gray;-webkit-box-shadow:0 10px 20px gray;-moz-box-shadow:0 10px 20px gray;-khtml-box-shadow:0 10px 20px gray;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}.MathJax_MenuItem{padding:1px 2em;background:0 0}.MathJax_MenuArrow{position:absolute;right:.5em;color:#666}.MathJax_MenuActive .MathJax_MenuArrow{color:#fff}.MathJax_MenuArrow.RTL{left:.5em;right:auto}.MathJax_MenuCheck{position:absolute;left:.7em}.MathJax_MenuCheck.RTL{right:.7em;left:auto}.MathJax_MenuRadioCheck{position:absolute;left:.7em}.MathJax_MenuRadioCheck.RTL{right:.7em;left:auto}.MathJax_MenuLabel{padding:1px 2em 3px 1.33em;font-style:italic}.MathJax_MenuRule{border-top:1px solid #DDD;margin:4px 3px}.MathJax_MenuDisabled{color:GrayText}.MathJax_MenuActive{background-color:#606872;color:#fff}.MathJax_Menu_Close{position:absolute;width:31px;height:31px;top:-15px;left:-15px}#MathJax_Zoom{position:absolute;background-color:#F0F0F0;overflow:auto;display:block;z-index:301;padding:.5em;border:1px solid #000;margin:0;font-weight:400;font-style:normal;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;box-shadow:5px 5px 15px #AAA;-webkit-box-shadow:5px 5px 15px #AAA;-moz-box-shadow:5px 5px 15px #AAA;-khtml-box-shadow:5px 5px 15px #AAA;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}#MathJax_ZoomOverlay{position:absolute;left:0;top:0;z-index:300;display:inline-block;width:100%;height:100%;border:0;padding:0;margin:0;background-color:#fff;opacity:0;filter:alpha(opacity=0)}#MathJax_ZoomFrame{position:relative;display:inline-block;height:0;width:0}#MathJax_ZoomEventTrap{position:absolute;left:0;top:0;z-index:302;display:inline-block;border:0;padding:0;margin:0;background-color:#fff;opacity:0;filter:alpha(opacity=0)}.MathJax_Preview{color:#888}#MathJax_Message{position:fixed;left:1px;bottom:2px;background-color:#E6E6E6;border:1px solid #959595;margin:0;padding:2px 8px;z-index:102;color:#000;font-size:80%;width:auto;white-space:nowrap}#MathJax_MSIE_Frame{position:absolute;top:0;left:0;width:0;z-index:101;border:0;margin:0;padding:0}.MathJax_Error{color:#C00;font-style:italic}footer{position:fixed;font-size:.8em;text-align:right;bottom:0;margin-left:-25px;height:20px;width:100%}</style>
</head>
<body class="markdown github">
<h1 id="data-visualization:-basic-principles"><a name="data-visualization:-basic-principles" href="#data-visualization:-basic-principles"></a>Data visualization: basic principles</h1><p>Why visualize data? It is a good way to communicate complex information, because we are highly visual animals, evolved to spot patterns and make visual comparisons. To visualize effectively, however, it helps to understand a little about how our brains process visual information. The mantra for this week’s class is: Design for the human brain!</p><h3 id="visualization:-encoding-data-using-visual-cues"><a name="visualization:-encoding-data-using-visual-cues" href="#visualization:-encoding-data-using-visual-cues"></a>Visualization: encoding data using visual cues</h3><p>Whenever we visualize, we are encoding data using visual cues, or “mapping” data onto variation in size, shape or color, and so on. There are various ways of doing this, as this primer illustrates:</p><p><img src="img/class2_1.jpg" alt=""></p><p>These cues are not created equal, however. In the mid-1980s, statisticians William Cleveland and Robert McGill <a href="http://courses.ischool.berkeley.edu/i247/f05/readings/Cleveland_GraphicalPerception_Science85.pdf">ran some experiments</a> with human volunteers, measuring how accurately they were able to perceive the quantitative information encoded by different cues. This is what they found:</p><p><img src="img/class2_2.jpg" alt=""></p><p>This <strong>perceptual hierarchy of visual cues</strong> is important. When making comparisons with continuous variables, aim to use cues near the top of the scale wherever possible.</p><h3 id="but-this-doesn't-mean-that-everything-becomes-a-bar-chart"><a name="but-this-doesn't-mean-that-everything-becomes-a-bar-chart" href="#but-this-doesn't-mean-that-everything-becomes-a-bar-chart"></a>But this doesn’t mean that everything becomes a bar chart</h3><p>Length on an aligned scale may be the best option to allow people to compare numbers accurately, but that doesn’t mean the other possibilities are always to be avoided in visualization. Indeed, color hue is a good way of encoding categorical data. The human brain is particularly good at recognizing patterns and differences. This means that variations in color, shape and orientation, while poor for accurately encoding the precise value of continuous variables, can be good choices for representing categorical data.</p><p>You can also combine different visual cues in the same graphic to encode different variables. But always think about the main messages you are trying to impart, and where you can use visual cues near the top of the visual hierarchy to communicate that message most effectively.</p><p>To witness this perceptual hierarchy, look at the following visual encodings of the same simple dataset. In which of the three charts is it easiest to compare the numerical values that are encoded?</p><p><img src="img/class2_3.jpg" alt=""></p><p>Note that encoding data using the area of circles — has been popular in data visualization in recent years, <a href="https://informationisbeautiful.net/visualizations/snake-oil-scientific-evidence-for-nutritional-supplements-vizsweet/">for example</a> — makes even tougher demands on your audience.</p><h3 id="which-chart-type-should-i-use?"><a name="which-chart-type-should-i-use?" href="#which-chart-type-should-i-use?"></a>Which chart type should I use?</h3><p>This is a frequently asked question, and the best answer is: Experiment with different charts, to see which works best to liberate the story in your data. Some of the visualization software that we’ll work with subsequently — notably <a href="https://public.tableau.com/en-us/s/">Tableau Public</a> — will suggest chart types for you to try. </p><p>However, it is good to have a basic framework to help you prioritize particular chart types for particular visualization tasks. <a href="https://raw.githubusercontent.com/ft-interactive/chart-doctor/master/visual-vocabulary/poster.png">Here</a>, for example, is a useful classification of chart types from the Financial Times.</p><p>Although it is far from comprehensive, and makes some specific chart suggestions that I would not personally endorse, this “chart of charts” provides a useful framework by providing four answers to the question: “What would you like to show?”</p><p><img src="img/class2_4.jpg" alt=""></p><p>(Source: A. Abela, <a href="https://extremepresentation.typepad.com/files/choosing-a-good-chart-09.pdf">Extreme Presentation Method</a>)</p><p>In Week 1, we covered charts to show the <strong>distribution</strong> of a single continuous variable, and to study the <strong>relationship</strong> between two continuous variables. So let’s now explore possibilities for <strong>comparison</strong> between items for a single continuous variable, and <strong>composition</strong>, or how parts make up the whole. In each case, this framework considers both a snapshot at one point in time, and how to visualize comparison and composition over time — a common task in data journalism.</p><p>I like to add a couple more answers to the question: <strong>connection</strong>, or visualizing how people, things, or organizations relate to one another; and <strong>location</strong>, which covers maps.</p><p><img src="img/class2_5.jpg" alt=""></p><h3 id="simple-comparisons:-bars-and-columns"><a name="simple-comparisons:-bars-and-columns" href="#simple-comparisons:-bars-and-columns"></a>Simple comparisons: bars and columns</h3><p>Applying the perceptual hierarchy of visual cues, bar and column charts are usually the best options for simple comparisons. Vertical columns often work well when few items are being compared, while horizontal bars may be a better option when there are many items to compare, as in <a href="https://blogs.wsj.com/digits/2010/12/13/the-top-50-gawker-media-passwords/">this example</a> from <em>The Wall Street Journal</em>, illustrating common passwords revealed by a 2013 data breach at Gawker Media.</p><p>Here I have used a bar chart to show payments for speaking about drug prescription made to doctors in California by the drug company Pfizer in the second half of 2009, using data gathered in reporting <a href="https://www.newscientist.com/article/dn18806-revealed-pfizers-payments-to-censured-doctors.html">this story</a>.</p><p><img src="img/class2_6.jpg" alt=""></p><p>Notice how spot color is used here as a secondary visual cue, to highlight the doctor who received the most money.</p><p>There is one sacrosanct rule with bar and column charts: Because they rely on the length of the bars to encode data, you must start the bars at zero. Failing to do this will mislead your audience. Several graphics aired by Fox News have been criticized for disobeying this rule, for example:</p><p><img src="img/class2_7.jpg" alt=""></p><p>(Source: Fox News, via <a href="https://www.mediamatters.org/blog/2013/04/05/fox-news-newest-dishonest-chart-immigration-enf/193507">Media Matters for America</a>)</p><h3 id="comparisons:-change-over-time"><a name="comparisons:-change-over-time" href="#comparisons:-change-over-time"></a>Comparisons: change over time</h3><p>Bar or column charts can also be used to illustrate change over time, but there are other possibilities, as shown in these charts showing participation in the federal government’s food stamps nutritional assistance program, from 1969 to 2016.</p><p><img src="img/class2_8.png" alt=""></p><p>(Source: Peter Aldhous, from <a href="https://www.fns.usda.gov/pd/supplemental-nutrition-assistance-program-snap">U.S. Department of Agriculture</a> data)</p><p>Each of these charts communicates the same basic information with a subtly different emphasis. The column chart emphasizes each year as a discrete point in time, while the line chart focuses on the overall trend or trajectory. The dot and line chart is a compromise between these two approaches, showing the trend while also drawing attention to the value for each year. (The dot column chart is an unusual variant of a column chart, included here to show another possible design approach.)</p><p>When comparing very many items over time, another approach may be needed to avoid charts getting too busy. One option is to encode data using color, dropping down the perceptual heiarchy of visual cues, to create a type of chart known as a heat map:</p><p><img src="img/class2_9.png" alt=""></p><p>(Source: <a href="https://www.bbc.com/news/science-environment-48678196"><em>BBC/Ed Hawkins, Reading University</em></a>)</p><p>If you are comparing two points in time for many items, a slope graph can be an effective choice. Slope falls about midway on the perceptual hierarchy of visual cues, but allows us to scan many items at once and note obvious differences. Here I used slope graphs to visualize data from a study examining the influence of putting house plants in hospital rooms on patient’s sense of well-being, measured before abdominal surgery, and after a period of recovery. I used thicker lines and color to highlight ratings that showed statistically significant improvements.</p><p><img src="img/class2_10.jpg" alt=""></p><p>(Source: Peter Aldhous, from data in <a href="http://horttech.ashspublications.org/content/18/4/563.full.pdf">this research paper</a>)</p><h3 id="composition:-parts-of-the-whole"><a name="composition:-parts-of-the-whole" href="#composition:-parts-of-the-whole"></a>Composition: parts of the whole</h3><p>Pie charts are often maligned, but have a legitimate role in visualizing parts of a whole — although they are not the only option. Which of these two representations of an August 2014 poll of public opinion on President Barack Obama’s job performance makes the differences between his approval ratings for difference policy areas easiest to read, the pie charts or the stacked column charts below?</p><p>These graphics involve both comparison and composition — a common situation in data journalism.</p><p><img src="img/class2_11.jpg" alt=""></p><p>(Source: Peter Aldhous, from CBS poll data, via <a href="https://pollingreport.com/obama_ad.htm">PollingReport.com</a>)</p><p>In class, we’ll discuss how both of these representations of the data could have been improved, given what we’ve learned about encoding data using visual cues.</p><p>I would suggest abandoning pie charts if there are any more than three parts to the whole, as they become very hard to read when there are many segments. ProPublica’s <a href="https://github.com/propublica/guides/blob/master/news-apps.md">data style guide</a> goes further, allowing pie charts with two segments only.</p><p><a href="https://eagereyes.org/blog/2016/a-reanalysis-of-a-study-about-square-pie-charts-from-2009">Recent research</a> into how people perceive composition visualizations with just two categories suggests that the best approach may actually be a square chart. Surprisingly, this is an example where an encoding of area seems to beat length for accuracy:</p><p><img src="img/class2_12.jpg" alt=""></p><p>(Source: <a href="https://flowingdata.com/2016/07/15/square-pie-chart-beats-out-the-rest-in-perception-study/">Eagereyes</a>)</p><p>Charts that explictly divide a square or rectangle into component squares, sometimes called waffle charts, can be very effective, as in this visualization of voting in the 2016 presidential primary elections:</p><p><img src="img/class2_13.jpg" alt=""></p><p>(Source: <a href="https://www.nytimes.com/interactive/2016/08/01/us/elections/nine-percent-of-america-selected-trump-and-clinton.html"><em>The New York Times</em></a>)</p><p>Another approach, known as a treemap, similarly uses area to encode the size of parts of the whole, and can be effective to display “nested” variables — where each part of the whole is broken down into further parts. Here I used a treemap for BuzzFeed News to show the number of people killed and injured in individual terrorist attacks by idealogical category over two decades:</p><p><img src="img/class2_14.jpg" alt=""></p><p>(Source: <a href="https://www.buzzfeednews.com/article/peteraldhous/american-terrorism-by-the-numbers"><em>BuzzFeed News</em></a>)</p><h3 id="composition:-change-over-time"><a name="composition:-change-over-time" href="#composition:-change-over-time"></a>Composition: change over time</h3><p>Data journalists frequently need to show how parts of the whole vary over time. Here is an example, illustrating the development of drought across the United States, which uses a stacked columns format, in this case with no space between the columns.</p><p><img src="img/class2_15.jpg" alt=""></p><p>(Source: The Upshot, <a href="https://www.nytimes.com/interactive/2014/upshot/mapping-the-spread-of-drought-across-the-us.html"><em>The New York Times</em></a>)</p><p>In the drought example, the size of the whole remains constant. Even if the size of the whole changes, this format can be used to show changes in the relative size of parts of the whole, by converting all of the values at each time interval into percentages of the total.</p><p>Stacked column charts can also be used to simultaneously show change in composition over time and change in the size of the whole. This example is from one of my own articles, looking at change over time in the numbers of monkeys used in the U.S. in experiments involving unalleviated pain or distress.</p><p><img src="img/class2_16.jpg" alt=""></p><p>(Source: <a href="https://www.buzzfeednews.com/article/peteraldhous/the-monkey-victims-of-the-war-on-terror">BuzzFeed News</a>)</p><p>Just as for simple comparisons over time, columns are not the only possibility when plotting changes in composition over time. The parts-of-the-whole equivalent of the line chart, stressing the overall trend rather than values at discrete points in time, is the stacked area chart. Again, these charts can be used to show change of time with the size of the whole held constant, or varying over time. Here <em>The New York Times</em> used this format to show the countries of origin over time for players in the world’s leading sports leagues:</p><p><img src="img/class2_17.jpg" alt=""></p><p>(Source: <a href="https://www.nytimes.com/interactive/2017/12/29/upshot/internationalization-of-pro-sports-leagues-premier-league.html"><em>The New York Times</em></a>)</p><h3 id="making-connections:-network-graphs"><a name="making-connections:-network-graphs" href="#making-connections:-network-graphs"></a>Making connections: network graphs</h3><p>The chart types thought-starter we have used as a framework so far misses two of my answers to the question: “What would you like to show?” We will cover <strong>location</strong> in subsequent classes on mapping.</p><p>Journalists may be interested in exploring <strong>connection</strong> — which donors gave money to which candidate, how companies are connected through members of their boards, and so on. Network graphs can visualize these questions, and are sometimes used in news media. Here, for example, <em>The New York Times</em> showed connections between the national teams, players and club teams at the 2014 soccer World Cup:</p><p><img src="img/class2_18.jpg" alt=""></p><p>(Source: <a href="https://www.nytimes.com/interactive/2014/06/20/sports/worldcup/how-world-cup-players-are-connected.html"><em>The New York Times</em></a>)</p><p>Complex network graphs can be very hard to read — “hairball” is a pejorative term used to describe them — so networks often need to be filtered to tell a clear story to your audience.</p><p>If you are interested in learning how to make network graphs, I have a tutorials <a href="https://paldhous.github.io/NICAR/2015/gephi.html">here</a> for a tool called <a href="https://gephi.org/">Gephi</a>. The <a href="https://flourish.studio/">Flourish</a> web app (see the <a href="spftware.html">Software</a> page) also has a network graph template.</p><h4 id="case-study:-immunization-in-california-kindergartens"><a name="case-study:-immunization-in-california-kindergartens" href="#case-study:-immunization-in-california-kindergartens"></a>Case study: Immunization in California kindergartens</h4><p>Now we’ll explore a dataset at different levels of analysis, to show how different visual encodings may be needed for different visualization tasks with the same data.</p><p>This data, from the <a href="https://www.shotsforschool.org/k-12/reporting-data/">California Department of Public Health</a>, gives numbers on immunization and enrollment at kindergartens across the state. The data is provided at the level of individual schools, but can be aggregated to look at counties, or the entire state.</p><p>When looking at change over time at the state level, the perceptual hierarchy makes a column chart a good choice:</p><p><img src="img/class2_19.jpg" alt=""></p><p>(Source: Peter Aldhous, from <a href="https://www.shotsforschool.org/k-12/reporting-data/">California Department of Public Health</a> data)</p><p>Notice that I’ve focused on the percentage of children with <em>incomplete</em> vaccination, rather than the percentage complete, for two reasons: </p><ul>
<li>The differences between the lengths of the bars are greater, and so is easier to read. </li><li>More importantly, incomplete vaccination is what increases the risk of infectious disease outbreaks, which is why we care about this data.</li></ul><p>But as for the food stamps data, a bar chart is not the only choice:</p><p>Here’s the same information presented as a line chart:</p><p><img src="img/class2_20.jpg" alt=""></p><p>(Source: Peter Aldhous, from <a href="https://www.shotsforschool.org/k-12/reporting-data/">California Department of Public Health</a> data)</p><p>Notice that here, I haven’t started the Y axis at zero. This would be unforgivable for a bar chart, where the length of the bar <em>is</em> the visual encoding, and so starting at an arbitrary value would distort the comparison between the bars. Here, however, I’m emphasizing the relative slope, to show change over time, so starting at zero is less crucial.</p><p>And here’s the data as a dot-and-line chart:</p><p><img src="img/class2_21.jpg" alt=""></p><p>(Source: Peter Aldhous, from <a href="https://www.shotsforschool.org/k-12/reporting-data/">California Department of Public Health</a> data)</p><p>Here, I’ve returned to a Y axis that starts at zero, so that the relative positions of the points can be compared accurately.</p><p>But what if we want to look at individual counties? When comparing a handful of counties, the dot-and-line chart, combining the visual cues of position on an aligned scale (for the yearly values) and slope (for the rate of change from year to year) works well:</p><p><img src="img/class2_22.jpg" alt=""></p><p>(Source: Peter Aldhous, from <a href="http://www.shotsforschool.org/k-12/reporting-data/">California Department of Public Health</a> data)</p><p>But there are 58 counties in California, and trying to compare them all using a dot-and-line chart results in chaos:</p><p><img src="img/class2_23.jpg" alt=""></p><p>(Source: Peter Aldhous, from <a href="https://www.shotsforschool.org/k-12/reporting-data/">California Department of Public Health</a> data)</p><p>In this case, it makes sense to drop down the perceptual hierarchy, and use the intensity of color to represent the percentage of incomplete immunization:</p><p><img src="img/class2_24.jpg" alt=""></p><p>(Source: Peter Aldhous, from <a href="https://www.shotsforschool.org/k-12/reporting-data/">California Department of Public Health</a> data)</p><p>This type of chart is called a heat map. It provides a quick and easy way to scan for the counties and years with the highest rates of incomplete immunization.</p><h3 id="using-color-effectively"><a name="using-color-effectively" href="#using-color-effectively"></a>Using color effectively</h3><p>Color falls low on the perceptual hierarchy of visual cues, but as we have seen above, it is often deployed to highlight particular elements of a chart, and sometimes to encode data values. Poor choice of color schemes is a problem that bedevils many news graphics, so it is worth taking some time to consider how to use color to maximum effect.</p><p>It helps to think about colors in terms of the color wheel, which places colors that “harmonize” well together side by side, and arranges those that have strong visual contrast — blue and orange, for instance — at opposite sides of the circle:</p><p><img src="img/class2_25.jpg" alt=""></p><p>(Source: <a href="https://commons.wikimedia.org/wiki/Category:Colorwheels#mediaviewer/File:Byrcolorwheel.png">Wikimedia Commons</a>)</p><p>When encoding data with color, take care to fit the color scheme to your data, and the story you’re aiming to tell. Color is often used to encode the values of categorical data. Here you want to use “qualitative” color schemes, where the aim is to pick colors that will be maximally distinctive, as widely spread around the color wheel as possible:</p><p><img src="img/class2_26.jpg" alt=""></p><p>(Source: <a href="http://colorbrewer2.org/">ColorBrewer</a>)</p><p>When using color to encode continuous data, it usually makes sense to use increasing intensity, or saturation of color to indicate larger values. These are called “sequential” color schemes:</p><p><img src="img/class2_27.jpg" alt=""></p><p>(Source: <a href="http://colorbrewer2.org/">ColorBrewer</a>)</p><p>In some circumstances, you may have data that has positive and negative values, or which highlights deviation from a central value. Here, you should use a “diverging” color scheme, which will usually have two colors reasonably well separated on the color wheel as its end points, and cycle through a neutral color in the middle:</p><p><img src="img/class2_28.jpg" alt=""></p><p>(Source: <a href="http://colorbrewer2.org/">ColorBrewer</a>)</p><p>Choosing color schemes is a complex science and art, but there is no need to “roll your own” for every graphic you make. Many visualization tools include suggested color palettes, and I often make use of the website from which the examples above were taken, called <a href="http://colorbrewer2.org/">ColorBrewer</a>. Orginally designed for maps, but useful for charts in general, these color schemes have been rigorously tested to be maximally informative.</p><p>In class, we will take some time to play around with ColorBrewer and examine its outputs. You will notice that the colors it suggests can be displayed according to their values on three color “models”: HEX, RGB and CMYK. Here is a brief explanation of these color models.</p><ul>
<li><p><strong>RGB</strong> Three values, describing a color in terms of combinations of red, green, and blue light, with each scale ranging from 0 to 255; sometimes extended to RGB(A), where A is alpha, which encodes transparency. Example: <code>rgb(169, 104, 54)</code>.</p>
</li><li><p><strong>HEX</strong> A six-figure “hexadecimal” encoding of RGB values, with each scale ranging from hex 00 (equivalent to 0) to hex ff (equivalent to 255); HEX values will be familiar if you have any experience with web design, as they are commonly used to denote color in HTML and CSS. Example: <code>#a96836</code></p>
</li><li><p><strong>CMYK</strong> Four values, describing a color in combinations of cyan, magenta, yellow and black, relevant to the combination of print inks. Example: <code>cmyk(0, 0.385, 0.68, 0.337)</code></p>
</li></ul><p><a href="http://colorizer.org/">Colorizer</a> is one of several web apps for picking colors and converting values from one model to another.</p><p>Custom color schemes can also work well, but experiment to see how different colors influence your story. The following graphic from <em>The Wall Street Journal</em>, for instance, uses an unusual pseudo-diverging scheme to encode data — the US unemployment rate — that would typically be represented using a sequential color scheme. It has the effect of strongly highlighting periods where the jobless rate rises to around 10%, which flow like rivers of blood through the graphic. This was presumably the designer’s aim.</p><p><img src="img/class2_29.jpg" alt=""></p><p>(Source: <a href="https://www.wsj.com/articles/SB10001424052748703338004575230041742556522"><em>The Wall Street Journal</em></a>)</p><p>If you intend to roll your own color scheme, try experimenting with <a href="https://medialab.github.io/iwanthue/">I want hue</a> for qualitative color palettes and the <a href="https://vis4.net/palettes/">Chroma.js Color Palette Helper</a> for sequential palettes.</p><p>You will also notice that ColorBrewer allows you to select color palettes that are colorblind-safe. Red and green lie on opposite sides of the color wheel, and also can be used to suggest “good” or “go,” versus “bad” or “stop.” But about 5% of men have red-green colorblindness, also known as deuteranopia.</p><p>Install <a href="https://www.colororacle.org/index.html">Color Oracle</a> to check how your charts and maps will look to people with various forms of colorblindness.</p><p><a href="http://projects.susielu.com/viz-palette">Viz Palette</a> is another good tool for experimenting with different color palettes, which includes color blindness simulation.</p><p><img src="img/class2_30.jpg" alt=""></p><p>(Source: <a href="http://projects.susielu.com/viz-palette">Viz Palette</a>)</p><h3 id="using-chart-furniture,-minimizing-chart-junk,-highlighting-the-story"><a name="using-chart-furniture,-minimizing-chart-junk,-highlighting-the-story" href="#using-chart-furniture,-minimizing-chart-junk,-highlighting-the-story"></a>Using chart furniture, minimizing chart junk, highlighting the story</h3><p>In addition to the data, encoded through the visual cues we have discussed, various items of chart furniture can help frame the story told by your data:</p><ul>
<li><p><strong>Title and subtitle</strong> These provide context for the chart.</p>
</li><li><p><strong>Coordinate system</strong> For most charts, this is provided by the horizontal and vertical axes, giving a cartesian system defined by X and Y coordinates; for a pie chart it is provided by angles around a circle, called a polar coordinate system.</p>
</li><li><p><strong>Scale</strong> Labeled tick marks and grid lines can help your audience read data values.</p>
</li><li><p><strong>Labels</strong> You will usually want to label each axis. Think about other labels that may be necessary to explain the message of your graphic.</p>
</li><li><p><strong>Legend</strong> If you use color or shape to encode data, you will often need a legend to explain this encoding.</p>
</li><li><p><strong>Source information</strong> Usually given as a footnote. Don’t forget this!</p>
</li></ul><p><img src="img/class2_31.jpg" alt=""></p><p>Chart furniture can also be used to encode data, as in this example, which shows the terms of New York City’s police commissioners and mayors with reference to the time scale on the X axis:</p><p><img src="img/class2_32.jpg" alt=""></p><p>(Source: <a href="https://www.nytimes.com/interactive/2013/12/04/nyregion/how-crime-declined-in-new-york-city-and-the-us.html"><em>The New York Times</em></a>)</p><p>Contemplate how much chart furniture you really need, and make sure that the story told by your data is front and center. Think data-ink: What proportion the ink or pixels in your chart is actually encoding data, and what proportion is embellishment, adding little to your story?</p><p>Here is a nice example of a graphic that minimizes chart junk, and maximizes data-ink. Notice how the Y axis doesn’t need to be drawn, and the gridlines are an absence of ink, consisting of white lines passing through the columns:</p><p><img src="img/class2_33.jpg" alt=""></p><p>(Source: The Upshot, <a href="https://www.nytimes.com/interactive/2014/07/25/upshot/100000003019150.embedded.html"><em>The New York Times</em></a>)</p><p>Contrast this with the proliferation of chart junk in the earlier misleading Fox News column chart.</p><p>Labels and spot-color highlights can be particularly useful to highlight your story, as shown in the following scatter plots, used here to show the relationship between the median salaries paid to women and men for the same jobs in 2018. In this case there is no suggestion of causation; here the scatter plot format is being used to display two distributions simultaneously — see the chart types thought-starter.</p><p>It is clear from the first, unlabeled plot, that male and female salaries for the same job are strongly correlated, as we would expect, but that relationship is not very interesting. Notice also how I have used transparency to help distinguish overlapping individual points.</p><p><img src="img/class2_34.png" alt=""></p><p>(Source: Peter Aldhous, from <a href="https://www.bls.gov/cps/cpsaat39.htm">Bureau of Labor Statistics</a> data)</p><p>What we are interested in here is whether men and women are compensated similarly for doing the same jobs. The story in the data starts to emerge if you add a line of equal pay, with a slope of 1 (note that this isn’t a trend line, as we discussed last week).</p><p><img src="img/class2_35.png" alt=""></p><p>(Source: Peter Aldhous, from <a href="https://www.bls.gov/cps/cpsaat39.htm">Bureau of Labor Statistics</a> data)</p><p>Notice how adding another line, representing a 25% pay gap, and highlighting the job where the pay gap between men and women is proportionately largest, emphasizes different aspects of the story:</p><p><img src="img/class2_36.png" alt=""></p><p>(Source: Peter Aldhous, from <a href="https://www.bls.gov/cps/cpsaat39.htm">Bureau of Labor Statistics</a> data)</p><h3 id="pitfalls-to-avoid"><a name="pitfalls-to-avoid" href="#pitfalls-to-avoid"></a>Pitfalls to avoid</h3><p>If you ever decide to encode data using area, be sure to do so correctly. Hopefully it is obvious that if one unit is a square with sides of length one, then the correct way to represent a value of four is a square with sides of length two (<code>2*2 = 4</code>), not a square with sides of length four (<code>4*4 = 16</code>).</p><p>Mistakes are frequently made, however, when encoding data by the area of circles. During the 2019 women’s soccer Word Cup, <em>The Guardian</em> ran this graphic:</p><p><img src="img/class2_37.jpg" alt=""></p><p>(Source: <a href="https://www.theguardian.com/football/ng-interactive/2019/jun/28/revealed-the-731003-gender-pay-gap-in-us-world-cup-bonuses">The Guardian</a>)</p><p>Crticis pointed out on Twitter that the data had been scaled by the radius of each circle, not its area. Because <code>area = π * radius^2</code>, you need to scale the circles by the square root of the radius to achieve the correct result, shown here in an amended version of the graphic:</p><p><img src="img/class2_38.jpg" alt=""></p><p>(Source: <a href="https://www.theguardian.com/football/ng-interactive/2019/jun/28/revealed-the-731003-gender-pay-gap-in-us-world-cup-bonuses">The Guardian</a>)</p><p>Many software packages (Microsoft Excel has been a notable culprit) allow users to create charts with 3-D effects. Some graphic designers produce customized charts with similar aesthetics. The problem is that that it is very hard to read the data values from 3-D representations, as this example illustrates:</p><p><img src="img/class2_39.jpg" alt=""></p><p>(Source: <a href="https://web.archive.org/web/20140411083133/http://magazine.good.is/infographics/infographic-the-20-most-charitable-countries-in-the-world"><em>Good</em></a>)</p><p>Above all, aim for clarity and simplicity in your chart design. Clarity should trump simplicity. As Albert Einstein <a href="https://quoteinvestigator.com/2011/05/13/einstein-simple/">is reputed to have said</a>: “Everything should be made as simple as possible, but not simpler.”</p><p>Sometimes even leading media outlets lose their way. See if you can make sense of <a href="https://web.archive.org/web/20170722130156/http://projects.washingtonpost.com/top-secret-america/network/[object%20Object">this interactive graphic</a> on clandestine US government agencies and their contractors:</p><p><img src="img/class2_40.jpg" alt=""></p><p>(Source: <a href="https://web.archive.org/web/20170722130156/http://projects.washingtonpost.com/top-secret-america/network/[object%20Object]"><em>The Washington Post</em></a>)</p><p><a href="https://www.data-to-viz.com/caveats.html">Here is a good overview</a> of pitfalls in data visualization, with tips on how to improve your charts.</p><h3 id="be-true-to-the-'feel'-of-the-data"><a name="be-true-to-the-'feel'-of-the-data" href="#be-true-to-the-'feel'-of-the-data"></a>Be true to the ‘feel’ of the data</h3><p>Think about what the data represents in the real world, and use chart forms, visual encodings and color schemes that allow the audience’s senses to get close to what the data means — note again the “rivers of blood” running through <em>The Wall Street Journal’</em>s unemployment chart, which suggest human suffering.</p><p>Look also at my reworking for BuzzFeed News of a visualization from the National Oceanic and Atmospheric Adminstration of the storm surge caused by Hurricane Katrina in 2005. My thought was that increasing the intensity of blue to represent more water would be intuitive:</p><p><img src="img/class2_41.jpg" alt=""></p><p>(Source: <a href="https://www.buzzfeednews.com/article/peteraldhous/why-katrina-was-the-storm-from-hell">BuzzFeed News</a>)</p><h3 id="break-the-story-down-into-scenes"><a name="break-the-story-down-into-scenes" href="#break-the-story-down-into-scenes"></a>Break the story down into scenes</h3><p>Many stories have a step-by-step narrative, and different charts may tell different parts of the story. So think about communicating such stories through a series of graphics. This is another good reason to experiment with different chart types when exploring a new dataset. Here is a nice example of this approach, examining demographic change in Brazil:</p><p><img src="img/class2_42.jpg" alt=""></p><p>(Source: <a href="https://web.archive.org/web/20150822234419/http://visualopolis.com/en/component/content/article/55-featured-small/117-how-we-work-at-epoca.html"><em>Época</em></a><br>)</p><h3 id="good-practice-for-interactives"><a name="good-practice-for-interactives" href="#good-practice-for-interactives"></a>Good practice for interactives</h3><p>Nowadays the primary publication medium for many news graphics is the web or apps on mobile platforms, rather than print, which opens up many possibilities for interactivity. This can greatly enhance your ability to tell a story, but it also creates new possibilities to confuse and distract your audience — think of this as interactive chart junk.</p><p>A good general approach for interactive graphics is to provide an overview first, and then allow the interested user to zoom or filter to dig deeper into the data. In such cases, the starting state for an interactive should tell a clear story: If users have to make an effort to dig into a graphic to get anything from it, few are likely to do so. Indeed, assume that much of your audience will spend only a short time interacting with the data.</p><p>Similarly, don’t hide labels or information essential to understanding the graphic in tooltips that are accessed only on clicks or hovers. This is where to put more detailed information for users who have sufficient interest to explore further.</p><p>Make the controls for an interactive obvious — play buttons should look like play buttons, for instance. You can include a few words of explanation, but only a very few: as far as possible, how to use the interactive should be intuitive, and built into its design.</p><p>The interactivity of the web also facilitates a scene-by-scene narrative — a device employed by the <em>Washington Post</em> in <a href="https://www.washingtonpost.com/graphics/2018/world/too-many-men/">this exploration</a> of the consequences of the excess of boys and young men in China and India:</p><p><img src="img/class2_43.jpg" alt=""></p><p>(Source: <a href="https://www.washingtonpost.com/graphics/2018/world/too-many-men/"><em>Washington Post</em></a>)</p><h3 id="'mobile-first'-may-change-your-approach"><a name="'mobile-first'-may-change-your-approach" href="#'mobile-first'-may-change-your-approach"></a>‘Mobile-first’ may change your approach</h3><p>News content is now largely viewed on mobile devices with small screens</p><p>At the most basic level, this means making graphics “responsive,” so that their size adjusts to screen size. But there is more to effective design for mobile than this.</p><p>“Small multiples,” showing multiple variants small charts or maps, provide another approach to graphics on mobile. They can reflow easily for different screen widths, and have been used very successfully in recent years by several news organizations. Here is a small section from a larger graphic showing the severity of drought in California in late 2013 and early 2014:</p><p><img src="img/class2_44.jpg" alt=""></p><p>(Source: <a href="https://www.latimes.com/local/lanow/la-me-g-california-drought-map-htmlstory.html"><em>Los Angeles Times</em></a>)</p><p><a href="https://chicagosmilliondollarblocks.com">This interactive</a>, exploring spending on incarceration by block in Chicago, is an example of organizing and displaying the same material differently for different screen sizes. However, it seems to have been optimized for a desktop view and then adapted for mobile. Open it up on your laptop then reduce the size of your browswer window to see how it behaves.</p><p><img src="img/class2_45.jpg" alt=""></p><p>(Source: <a href="https://chicagosmilliondollarblocks.com/">DataMade</a>)</p><p>Again, a step-by-step narrative can be a useful device in overcoming the limitations of a small screen. <a href="https://www.tampabay.com/projects/2015/investigations/pinellas-failure-factories/chart-failing-black-students/">This interactive</a>, exploring school segregation by race in Florida, is a good example of this approach, and was clearly designed with a “mobile first” perspective:</p><p><img src="img/class2_46.jpg" alt=""></p><p>(Source: <a href="https://www.tampabay.com/projects/2015/investigations/pinellas-failure-factories/chart-failing-black-students/"><em>Tampa Bay Times</em></a>)</p><h3 id="be-careful-with-animation"><a name="be-careful-with-animation" href="#be-careful-with-animation"></a>Be careful with animation</h3><p>Animation in interactives can be very effective. But remember the goal of staying true to the ‘feel’ of the data. Animated images evolve over time, so animation can be particularly useful to encode data that changes over time. But again you need to think about what the human brain is able to perceive. Research has shown that people have trouble tracking more than about four points at a time. Try playing <a href="https://www.gapminder.org/tools/">Gapminder World</a> without the energetic audio commentary of Hans Rosling’s <a href="https://www.gapminder.org/videos/200-years-that-changed-the-world-bbc/">“200 Countries”</a> video, and see whether the story told by the data is clear.</p><p>Animated transitions between different states of a graphic can be pleasing. But overdo it, and you’re into the realm of annoying Powerpoint presentations with items zooming into slides with distracting animation effects. It’s also possible for elegant animated transitions to “steal the show” from the story told by the data, which arguably is the case for <a href="https://archive.nytimes.com/www.nytimes.com/interactive/2012/02/13/us/politics/2013-budget-proposal-graphic.html">this exploration</a> by <em>The New York Times</em> of President Obama’s 2013 budget request to Congress:</p><p><img src="img/class2_47.jpg" alt=""></p><p>(Source: <a href="https://archive.nytimes.com/www.nytimes.com/interactive/2012/02/13/us/politics/2013-budget-proposal-graphic.html"><em>The New York Times</em></a>)</p><h3 id="sketch-and-experiment-to-find-the-story"><a name="sketch-and-experiment-to-find-the-story" href="#sketch-and-experiment-to-find-the-story"></a>Sketch and experiment to find the story</h3><p>One key message I’d like you to take from this class is that there are many ways of visualizing the same data. Effective graphics and interactives do not usually emerge fully formed. They usually arise through sketching and experimentation.</p><p>As you sketch and experiment with data, use the framework suggested by the chart selector thought-starter to prioritize different chart types, and always keep the perceptual hierarchy of visual cues at the front of your mind. Remember the mantra: Design for the human brain!</p><p>Also, show your experiments to friends and colleagues. If people are confused or don’t see the story, you may need to try a different approach.</p><h3 id="learn-from-the-experts"><a name="learn-from-the-experts" href="#learn-from-the-experts"></a>Learn from the experts</h3><p>Over the coming weeks and beyond, make a habit of looking for innovative graphics, especially those employing unusual chart forms, that communicate the story from data in an effective way. Work out how they use visual cues to encode data. Here are a couple of examples from <em>The New York Times</em> to get you started. Follow the links from the source credits to explore the interactive/animated versions:</p><p><img src="img/class2_48.jpg" alt=""></p><p>(Source: <a href="https://www.nytimes.com/interactive/2018/03/19/upshot/race-class-white-and-black-men.html"><em>The New York Times</em></a>)</p><p><img src="img/class2_49.jpg" alt=""></p><p>(Source: <a href="https://www.nytimes.com/interactive/2017/07/28/climate/more-frequent-extreme-summer-heat.html"><em>The New York Times</em></a>)</p><p>Similarly, make note of graphics that communicate less effectively, and see if you can work out why.</p><h3 id="assignment"><a name="assignment" href="#assignment"></a>Assignment</h3><ul>
<li>By start of next week’s class, complete <a href="week2quiz.html">this quiz</a> on principles of data analysis and visualizaton.</li></ul><h3 id="further-reading"><a name="further-reading" href="#further-reading"></a>Further reading</h3><p>Alberto Cairo: <a href="https://www.amazon.com/The-Functional-Art-introduction-visualization/dp/0321834739"><em>The Functional Art: An Introduction to Information Graphics and Visualization</em></a></p><p>Nathan Yau: <a href="https://www.amazon.com/Data-Points-Visualization-Means-Something/dp/111846219X"><em>Data Points: Visualization That Means Something</em></a></p>

<footer style="position:fixed; font-size:.8em; text-align:right; bottom:0px; margin-left:-25px; height:20px; width:100%;">generated by <a href="http://pad.haroopress.com" target="_blank">haroopad</a></footer>
</body>
</html>
