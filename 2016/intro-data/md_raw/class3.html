<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>class3.html</title>
  <meta name="generator" content="Haroopad 0.13.1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>div.oembedall-githubrepos{border:1px solid #DDD;border-radius:4px;list-style-type:none;margin:0 0 10px;padding:8px 10px 0;font:13.34px/1.4 helvetica,arial,freesans,clean,sans-serif;width:452px;background-color:#fff}div.oembedall-githubrepos .oembedall-body{background:-moz-linear-gradient(center top,#FAFAFA,#EFEFEF);background:-webkit-gradient(linear,left top,left bottom,from(#FAFAFA),to(#EFEFEF));border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-top:1px solid #EEE;margin-left:-10px;margin-top:8px;padding:5px 10px;width:100%}div.oembedall-githubrepos h3{font-size:14px;margin:0;padding-left:18px;white-space:nowrap}div.oembedall-githubrepos p.oembedall-description{color:#444;font-size:12px;margin:0 0 3px}div.oembedall-githubrepos p.oembedall-updated-at{color:#888;font-size:11px;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats{border:none;float:right;font-size:11px;font-weight:700;padding-left:15px;position:relative;z-index:5;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats li{border:none;color:#666;display:inline-block;list-style-type:none;margin:0!important}div.oembedall-githubrepos ul.oembedall-repo-stats li a{background-color:transparent;border:none;color:#666!important;background-position:5px -2px;background-repeat:no-repeat;border-left:1px solid #DDD;display:inline-block;height:21px;line-height:21px;padding:0 5px 0 23px}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a{border-left:medium none;margin-right:-3px}div.oembedall-githubrepos ul.oembedall-repo-stats li a:hover{background:5px -27px no-repeat #4183C4;color:#FFF!important;text-decoration:none}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a:hover{border-bottom-left-radius:3px;border-top-left-radius:3px}ul.oembedall-repo-stats li:last-child a:hover{border-bottom-right-radius:3px;border-top-right-radius:3px}span.oembedall-closehide{background-color:#aaa;border-radius:2px;cursor:pointer;margin-right:3px}div.oembedall-container{margin-top:5px;text-align:left}.oembedall-ljuser{font-weight:700}.oembedall-ljuser img{vertical-align:bottom;border:0;padding-right:1px}.oembedall-stoqembed{border-bottom:1px dotted #999;float:left;overflow:hidden;width:730px;line-height:1;background:#FFF;color:#000;font-family:Arial,Liberation Sans,DejaVu Sans,sans-serif;font-size:80%;text-align:left;margin:0;padding:0}.oembedall-stoqembed a{color:#07C;text-decoration:none;margin:0;padding:0}.oembedall-stoqembed a:hover{text-decoration:underline}.oembedall-stoqembed a:visited{color:#4A6B82}.oembedall-stoqembed h3{font-family:Trebuchet MS,Liberation Sans,DejaVu Sans,sans-serif;font-size:130%;font-weight:700;margin:0;padding:0}.oembedall-stoqembed .oembedall-reputation-score{color:#444;font-size:120%;font-weight:700;margin-right:2px}.oembedall-stoqembed .oembedall-user-info{height:35px;width:185px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-gravatar32{float:left;height:32px;width:32px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-details{float:left;margin-left:5px;overflow:hidden;white-space:nowrap;width:145px}.oembedall-stoqembed .oembedall-question-hyperlink{font-weight:700}.oembedall-stoqembed .oembedall-stats{background:#EEE;margin:0 0 0 7px;padding:4px 7px 6px;width:58px}.oembedall-stoqembed .oembedall-statscontainer{float:left;margin-right:8px;width:86px}.oembedall-stoqembed .oembedall-votes{color:#555;padding:0 0 7px;text-align:center}.oembedall-stoqembed .oembedall-vote-count-post{font-size:240%;color:#808185;display:block;font-weight:700}.oembedall-stoqembed .oembedall-views{color:#999;padding-top:4px;text-align:center}.oembedall-stoqembed .oembedall-status{margin-top:-3px;padding:4px 0;text-align:center;background:#75845C;color:#FFF}.oembedall-stoqembed .oembedall-status strong{color:#FFF;display:block;font-size:140%}.oembedall-stoqembed .oembedall-summary{float:left;width:635px}.oembedall-stoqembed .oembedall-excerpt{line-height:1.2;margin:0;padding:0 0 5px}.oembedall-stoqembed .oembedall-tags{float:left;line-height:18px}.oembedall-stoqembed .oembedall-tags a:hover{text-decoration:none}.oembedall-stoqembed .oembedall-post-tag{background-color:#E0EAF1;border-bottom:1px solid #3E6D8E;border-right:1px solid #7F9FB6;color:#3E6D8E;font-size:90%;line-height:2.4;margin:2px 2px 2px 0;padding:3px 4px;text-decoration:none;white-space:nowrap}.oembedall-stoqembed .oembedall-post-tag:hover{background-color:#3E6D8E;border-bottom:1px solid #37607D;border-right:1px solid #37607D;color:#E0EAF1}.oembedall-stoqembed .oembedall-fr{float:right}.oembedall-stoqembed .oembedall-statsarrow{background-image:url(http://cdn.sstatic.net/stackoverflow/img/sprites.png?v=3);background-repeat:no-repeat;overflow:hidden;background-position:0 -435px;float:right;height:13px;margin-top:12px;width:7px}.oembedall-facebook1{border:1px solid #1A3C6C;padding:0;font:13.34px/1.4 verdana;width:500px}.oembedall-facebook2{background-color:#627add}.oembedall-facebook2 a{color:#e8e8e8;text-decoration:none}.oembedall-facebookBody{background-color:#fff;vertical-align:top;padding:5px}.oembedall-facebookBody .contents{display:inline-block;width:100%}.oembedall-facebookBody div img{float:left;margin-right:5px}div.oembedall-lanyard{-webkit-box-shadow:none;-webkit-transition-delay:0s;-webkit-transition-duration:.4000000059604645s;-webkit-transition-property:width;-webkit-transition-timing-function:cubic-bezier(0.42,0,.58,1);background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;border-width:0;box-shadow:none;color:#112644;display:block;float:left;font-family:'Trebuchet MS',Trebuchet,sans-serif;font-size:16px;height:253px;line-height:19px;margin:0;max-width:none;min-height:0;outline:#112644 0;overflow-x:visible;overflow-y:visible;padding:0;position:relative;text-align:left;vertical-align:baseline;width:804px}div.oembedall-lanyard .tagline{font-size:1.5em}div.oembedall-lanyard .wrapper{overflow:hidden;clear:both}div.oembedall-lanyard .split{float:left;display:inline}div.oembedall-lanyard .prominent-place .flag:active,div.oembedall-lanyard .prominent-place .flag:focus,div.oembedall-lanyard .prominent-place .flag:hover,div.oembedall-lanyard .prominent-place .flag:link,div.oembedall-lanyard .prominent-place .flag:visited{float:left;display:block;width:48px;height:48px;position:relative;top:-5px;margin-right:10px}div.oembedall-lanyard .place-context{font-size:.889em}div.oembedall-lanyard .prominent-place .sub-place{display:block}div.oembedall-lanyard .prominent-place{font-size:1.125em;line-height:1.1em;font-weight:400}div.oembedall-lanyard .main-date{color:#8CB4E0;font-weight:700;line-height:1.1}div.oembedall-lanyard .first{width:48.57%;margin:0 0 0 2.857%}.mermaid .label{color:#333}.node circle,.node polygon,.node rect{fill:#cde498;stroke:#13540c;stroke-width:1px}.edgePath .path{stroke:green;stroke-width:1.5px}.cluster rect{fill:#cdffb2;rx:40;stroke:#6eaa49;stroke-width:1px}.cluster text{fill:#333}.actor{stroke:#13540c;fill:#cde498}text.actor{fill:#000;stroke:none}.actor-line{stroke:grey}.messageLine0{stroke-width:1.5;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#333}.messageLine1{stroke-width:1.5;stroke-dasharray:"2 2";stroke:#333}#arrowhead{fill:#333}#crosshead path{fill:#333!important;stroke:#333!important}.messageText{fill:#333;stroke:none}.labelBox{stroke:#326932;fill:#cde498}.labelText,.loopText{fill:#000;stroke:none}.loopLine{stroke-width:2;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#326932}.note{stroke:#6eaa49;fill:#fff5ad}.noteText{fill:#000;stroke:none;font-family:'trebuchet ms',verdana,arial;font-size:14px}.section{stroke:none;opacity:.2}.section0,.section2{fill:#6eaa49}.section1,.section3{fill:#fff;opacity:.2}.sectionTitle0,.sectionTitle1,.sectionTitle2,.sectionTitle3{fill:#333}.sectionTitle{text-anchor:start;font-size:11px;text-height:14px}.grid .tick{stroke:lightgrey;opacity:.3;shape-rendering:crispEdges}.grid path{stroke-width:0}.today{fill:none;stroke:red;stroke-width:2px}.task{stroke-width:2}.taskText{text-anchor:middle;font-size:11px}.taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px}.taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}.taskText0,.taskText1,.taskText2,.taskText3{fill:#fff}.task0,.task1,.task2,.task3{fill:#487e3a;stroke:#13540c}.taskTextOutside0,.taskTextOutside1,.taskTextOutside2,.taskTextOutside3{fill:#000}.active0,.active1,.active2,.active3{fill:#cde498;stroke:#13540c}.activeText0,.activeText1,.activeText2,.activeText3{fill:#000!important}.done0,.done1,.done2,.done3{stroke:grey;fill:lightgrey;stroke-width:2}.doneText0,.doneText1,.doneText2,.doneText3{fill:#000!important}.crit0,.crit1,.crit2,.crit3{stroke:#f88;fill:red;stroke-width:2}.activeCrit0,.activeCrit1,.activeCrit2,.activeCrit3{stroke:#f88;fill:#cde498;stroke-width:2}.doneCrit0,.doneCrit1,.doneCrit2,.doneCrit3{stroke:#f88;fill:lightgrey;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}.activeCritText0,.activeCritText1,.activeCritText2,.activeCritText3,.doneCritText0,.doneCritText1,.doneCritText2,.doneCritText3{fill:#000!important}.titleText{text-anchor:middle;font-size:18px;fill:#000}text{font-family:'trebuchet ms',verdana,arial;font-size:14px}html{height:100%}body{margin:0!important;padding:5px 20px 26px!important;background-color:#fff;font-family:"Lucida Grande","Segoe UI","Apple SD Gothic Neo","Malgun Gothic","Lucida Sans Unicode",Helvetica,Arial,sans-serif;font-size:.9em;overflow-x:hidden;overflow-y:auto}br,h1,h2,h3,h4,h5,h6{clear:both}hr.page{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x;border:0;height:3px;padding:0}hr.underscore{border-top-style:dashed!important}body >:first-child{margin-top:0!important}img.plugin{box-shadow:0 1px 3px rgba(0,0,0,.1);border-radius:3px}iframe{border:0}figure{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0}kbd{border:1px solid #aaa;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-moz-box-shadow:1px 2px 2px #ddd;-webkit-box-shadow:1px 2px 2px #ddd;box-shadow:1px 2px 2px #ddd;background-color:#f9f9f9;background-image:-moz-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-o-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-webkit-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:linear-gradient(top,#eee,#f9f9f9,#eee);padding:1px 3px;font-family:inherit;font-size:.85em}.oembeded .oembed_photo{display:inline-block}img[data-echo]{margin:25px 0;width:100px;height:100px;background:url(../img/ajax.gif) center center no-repeat #fff}.spinner{display:inline-block;width:10px;height:10px;margin-bottom:-.1em;border:2px solid rgba(0,0,0,.5);border-top-color:transparent;border-radius:100%;-webkit-animation:spin 1s infinite linear;animation:spin 1s infinite linear}.spinner:after{content:'';display:block;width:0;height:0;position:absolute;top:-6px;left:0;border:4px solid transparent;border-bottom-color:rgba(0,0,0,.5);-webkit-transform:rotate(45deg);transform:rotate(45deg)}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg)}}@keyframes spin{to{transform:rotate(360deg)}}p.toc{margin:0!important}p.toc ul{padding-left:10px}p.toc>ul{padding:10px;margin:0 10px;display:inline-block;border:1px solid #ededed;border-radius:5px}p.toc li,p.toc ul{list-style-type:none}p.toc li{width:100%;padding:0;overflow:hidden}p.toc li a::after{content:"."}p.toc li a:before{content:"• "}p.toc h5{text-transform:uppercase}p.toc .title{float:left;padding-right:3px}p.toc .number{margin:0;float:right;padding-left:3px;background:#fff;display:none}input.task-list-item{margin-left:-1.62em}.markdown{font-family:"Hiragino Sans GB","Microsoft YaHei",STHeiti,SimSun,"Lucida Grande","Lucida Sans Unicode","Lucida Sans",'Segoe UI',AppleSDGothicNeo-Medium,'Malgun Gothic',Verdana,Tahoma,sans-serif;padding:20px}.markdown a{text-decoration:none;vertical-align:baseline}.markdown a:hover{text-decoration:underline}.markdown h1{font-size:2.2em;font-weight:700;margin:1.5em 0 1em}.markdown h2{font-size:1.8em;font-weight:700;margin:1.275em 0 .85em}.markdown h3{font-size:1.6em;font-weight:700;margin:1.125em 0 .75em}.markdown h4{font-size:1.4em;font-weight:700;margin:.99em 0 .66em}.markdown h5{font-size:1.2em;font-weight:700;margin:.855em 0 .57em}.markdown h6{font-size:1em;font-weight:700;margin:.75em 0 .5em}.markdown h1+p,.markdown h1:first-child,.markdown h2+p,.markdown h2:first-child,.markdown h3+p,.markdown h3:first-child,.markdown h4+p,.markdown h4:first-child,.markdown h5+p,.markdown h5:first-child,.markdown h6+p,.markdown h6:first-child{margin-top:0}.markdown hr{border:1px solid #ccc}.markdown p{margin:1em 0;word-wrap:break-word}.markdown ol{list-style-type:decimal}.markdown li{display:list-item;line-height:1.4em}.markdown blockquote{margin:1em 20px}.markdown blockquote>:first-child{margin-top:0}.markdown blockquote>:last-child{margin-bottom:0}.markdown blockquote cite:before{content:'\2014 \00A0'}.markdown .code{border-radius:3px;word-wrap:break-word}.markdown pre{border-radius:3px;word-wrap:break-word;border:1px solid #ccc;overflow:auto;padding:.5em}.markdown pre code{border:0;display:block}.markdown pre>code{font-family:Consolas,Inconsolata,Courier,monospace;font-weight:700;white-space:pre;margin:0}.markdown code{border-radius:3px;word-wrap:break-word;border:1px solid #ccc;padding:0 5px;margin:0 2px}.markdown img{max-width:100%}.markdown mark{color:#000;background-color:#fcf8e3}.markdown table{padding:0;border-collapse:collapse;border-spacing:0;margin-bottom:16px}.markdown table tr td,.markdown table tr th{border:1px solid #ccc;margin:0;padding:6px 13px}.markdown table tr th{font-weight:700}.markdown table tr th>:first-child{margin-top:0}.markdown table tr th>:last-child{margin-bottom:0}.markdown table tr td>:first-child{margin-top:0}.markdown table tr td>:last-child{margin-bottom:0}.github{padding:20px;font-family:"Helvetica Neue",Helvetica,"Hiragino Sans GB","Microsoft YaHei",STHeiti,SimSun,"Segoe UI",AppleSDGothicNeo-Medium,'Malgun Gothic',Arial,freesans,sans-serif;font-size:15px;background:#fff;line-height:1.6;-webkit-font-smoothing:antialiased}.github a{color:#3269a0}.github a:hover{color:#4183c4}.github h2{border-bottom:1px solid #e6e6e6;line-height:1.6}.github h6{color:#777}.github hr{border:1px solid #e6e6e6}.github pre>code{font-size:.9em;font-family:Consolas,Inconsolata,Courier,monospace}.github blockquote>code,.github h1>code,.github h2>code,.github h3>code,.github h4>code,.github h5>code,.github h6>code,.github li>code,.github p>code,.github td>code{background-color:rgba(0,0,0,.07);font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:85%;padding:.2em .5em;border:0}.github blockquote{border-left:4px solid #e6e6e6;padding:0 15px;font-style:italic}.github table{background-color:#fafafa}.github table tr td,.github table tr th{border:1px solid #e6e6e6}.github table tr:nth-child(2n){background-color:#f2f2f2}.hljs{display:block;overflow-x:auto;padding:.5em;background:#f0f0f0;-webkit-text-size-adjust:none}.hljs,.hljs-subst,.hljs-tag .hljs-title,.nginx .hljs-title{color:#000}.apache .hljs-cbracket,.apache .hljs-tag,.asciidoc .hljs-header,.bash .hljs-variable,.coffeescript .hljs-attribute,.django .hljs-variable,.erlang_repl .hljs-function_or_atom,.haml .hljs-symbol,.hljs-addition,.hljs-constant,.hljs-flow,.hljs-parent,.hljs-pragma,.hljs-preprocessor,.hljs-rules .hljs-value,.hljs-stream,.hljs-string,.hljs-tag .hljs-value,.hljs-template_tag,.hljs-title,.markdown .hljs-header,.ruby .hljs-symbol,.ruby .hljs-symbol .hljs-string,.smalltalk .hljs-class,.tex .hljs-command,.tex .hljs-special{color:#800}.asciidoc .hljs-blockquote,.diff .hljs-header,.hljs-annotation,.hljs-chunk,.hljs-comment,.markdown .hljs-blockquote,.smartquote{color:#888}.asciidoc .hljs-bullet,.asciidoc .hljs-link_url,.go .hljs-constant,.hljs-change,.hljs-date,.hljs-hexcolor,.hljs-literal,.hljs-number,.hljs-regexp,.lasso .hljs-variable,.makefile .hljs-variable,.markdown .hljs-bullet,.markdown .hljs-link_url,.smalltalk .hljs-char,.smalltalk .hljs-symbol{color:#080}.apache .hljs-sqbracket,.asciidoc .hljs-attribute,.asciidoc .hljs-link_label,.clojure .hljs-attribute,.coffeescript .hljs-property,.erlang_repl .hljs-reserved,.haml .hljs-bullet,.hljs-array,.hljs-attr_selector,.hljs-decorator,.hljs-deletion,.hljs-doctype,.hljs-envvar,.hljs-filter .hljs-argument,.hljs-important,.hljs-javadoc,.hljs-label,.hljs-localvars,.hljs-phony,.hljs-pi,.hljs-prompt,.hljs-pseudo,.hljs-shebang,.lasso .hljs-attribute,.markdown .hljs-link_label,.nginx .hljs-built_in,.ruby .hljs-string,.tex .hljs-formula,.vhdl .hljs-attribute{color:#88f}.apache .hljs-tag,.asciidoc .hljs-strong,.bash .hljs-variable,.css .hljs-tag,.hljs-built_in,.hljs-dartdoc,.hljs-id,.hljs-javadoctag,.hljs-keyword,.hljs-phpdoc,.hljs-request,.hljs-status,.hljs-title,.hljs-type,.hljs-typename,.hljs-winutils,.hljs-yardoctag,.markdown .hljs-strong,.smalltalk .hljs-class,.tex .hljs-command{font-weight:700}.asciidoc .hljs-emphasis,.markdown .hljs-emphasis{font-style:italic}.nginx .hljs-built_in{font-weight:400}.coffeescript .javascript,.javascript .xml,.lasso .markup,.tex .hljs-formula,.xml .css,.xml .hljs-cdata,.xml .javascript,.xml .vbscript{opacity:.5}.MathJax_Hover_Frame{border-radius:.25em;-webkit-border-radius:.25em;-moz-border-radius:.25em;-khtml-border-radius:.25em;box-shadow:0 0 15px #83A;-webkit-box-shadow:0 0 15px #83A;-moz-box-shadow:0 0 15px #83A;-khtml-box-shadow:0 0 15px #83A;border:1px solid #A6D!important;display:inline-block;position:absolute}.MathJax_Hover_Arrow{position:absolute;width:15px;height:11px;cursor:pointer}#MathJax_About{position:fixed;left:50%;width:auto;text-align:center;border:3px outset;padding:1em 2em;background-color:#DDD;color:#000;cursor:default;font-family:message-box;font-size:120%;font-style:normal;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;-khtml-border-radius:15px;box-shadow:0 10px 20px gray;-webkit-box-shadow:0 10px 20px gray;-moz-box-shadow:0 10px 20px gray;-khtml-box-shadow:0 10px 20px gray;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}.MathJax_Menu{position:absolute;background-color:#fff;color:#000;width:auto;padding:5px 0;border:1px solid #CCC;margin:0;cursor:default;font:menu;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;-khtml-border-radius:5px;box-shadow:0 10px 20px gray;-webkit-box-shadow:0 10px 20px gray;-moz-box-shadow:0 10px 20px gray;-khtml-box-shadow:0 10px 20px gray;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}.MathJax_MenuItem{padding:1px 2em;background:0 0}.MathJax_MenuArrow{position:absolute;right:.5em;color:#666}.MathJax_MenuActive .MathJax_MenuArrow{color:#fff}.MathJax_MenuArrow.RTL{left:.5em;right:auto}.MathJax_MenuCheck{position:absolute;left:.7em}.MathJax_MenuCheck.RTL{right:.7em;left:auto}.MathJax_MenuRadioCheck{position:absolute;left:.7em}.MathJax_MenuRadioCheck.RTL{right:.7em;left:auto}.MathJax_MenuLabel{padding:1px 2em 3px 1.33em;font-style:italic}.MathJax_MenuRule{border-top:1px solid #DDD;margin:4px 3px}.MathJax_MenuDisabled{color:GrayText}.MathJax_MenuActive{background-color:#606872;color:#fff}.MathJax_Menu_Close{position:absolute;width:31px;height:31px;top:-15px;left:-15px}#MathJax_Zoom{position:absolute;background-color:#F0F0F0;overflow:auto;display:block;z-index:301;padding:.5em;border:1px solid #000;margin:0;font-weight:400;font-style:normal;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;box-shadow:5px 5px 15px #AAA;-webkit-box-shadow:5px 5px 15px #AAA;-moz-box-shadow:5px 5px 15px #AAA;-khtml-box-shadow:5px 5px 15px #AAA;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}#MathJax_ZoomOverlay{position:absolute;left:0;top:0;z-index:300;display:inline-block;width:100%;height:100%;border:0;padding:0;margin:0;background-color:#fff;opacity:0;filter:alpha(opacity=0)}#MathJax_ZoomFrame{position:relative;display:inline-block;height:0;width:0}#MathJax_ZoomEventTrap{position:absolute;left:0;top:0;z-index:302;display:inline-block;border:0;padding:0;margin:0;background-color:#fff;opacity:0;filter:alpha(opacity=0)}.MathJax_Preview{color:#888}#MathJax_Message{position:fixed;left:1px;bottom:2px;background-color:#E6E6E6;border:1px solid #959595;margin:0;padding:2px 8px;z-index:102;color:#000;font-size:80%;width:auto;white-space:nowrap}#MathJax_MSIE_Frame{position:absolute;top:0;left:0;width:0;z-index:101;border:0;margin:0;padding:0}.MathJax_Error{color:#C00;font-style:italic}footer{position:fixed;font-size:.8em;text-align:right;bottom:0;margin-left:-25px;height:20px;width:100%}</style>
</head>
<body class="markdown github">
<h1 id="interviewing-data:-journalism-with-spreadsheets"><a name="interviewing-data:-journalism-with-spreadsheets" href="#interviewing-data:-journalism-with-spreadsheets"></a>Interviewing data: Journalism with spreadsheets</h1><p>In this week’s class we will use Google Sheets to answer specific questions about three datasets, to help shape future reporting.</p><p><mark><strong>Important warning:</strong></mark> When performing any calculations in a spreadsheet, always perform frequent “reality checks” on the results.</p><ul>
<li><p>Check continually that spreadsheet formulas are referring the the correct cells, and are using the right formulas, correctly.</p>
</li><li><p>Pull out some of the numbers and check them using a calculator. Do you get the same result? If not, you <em>must</em> work out what went wrong and reconcile the difference.</p>
</li><li><p>Use your common sense to spot obvious errors. If a calculated mean or median value is larger than the maximum value in your data, for example, it must be wrong.</p>
</li></ul><p>Editors do not expect to be handed work that is factually incorrect. If you gain a reputation for mistakes and sloppiness your career will be short and unsuccessful. Worse, you may mislead your audience. So always check your work!</p><h3 id="the-data-we-will-use-today"><a name="the-data-we-will-use-today" href="#the-data-we-will-use-today"></a>The data we will use today</h3><p>Download the data for this session from <a href="data/week3.zip">here</a>, unzip the folder and place it on your desktop. It contains the following files:</p><ul>
<li><p><code>techexports_gdp.csv</code> Data on <a href="http://data.worldbank.org/indicator/TX.VAL.TECH.CD">High-technology exports</a> and <a href="http://data.worldbank.org/indicator/NY.GDP.MKTP.CD">GDP</a> from 1990 to 2015, from the World Bank’s World Development Indictors. High-technology exports include products in aerospace, computers, pharmaceuticals, scientific instruments, and electrical machinery. Both values are expressed in current U.S. dollars.</p>
</li><li><p><code>gender_pay.csv</code> Median weekly earnings for men and women across occupations, from 2011 to 2015. Data from the <a href="http://www.bls.gov/cps/cpsaat39.htm">Bureau of Labor Statistics</a>.</p>
</li><li><p><code>richmond_collisions.xls</code> Data on injury and fatal traffic accidents in Richmond, California, from 2005 to 2013, from the <a href="http://tims.berkeley.edu/page.php?page=about">Transportation Injury Mapping System</a>. The data comes from the California Highway Patrol’s <a href="http://iswitrs.chp.ca.gov/Reports/jsp/userLogin.jsp">Statewide Integrated Traffic Records System</a> and was then geocoded for mapping by UC Berkeley’s Safe Transportation Research &amp; Education Center. This is the data we cleaned with Open Refine in Week 2.</p>
</li></ul><h3 id="analyze-data-on-high-technology-exports"><a name="analyze-data-on-high-technology-exports" href="#analyze-data-on-high-technology-exports"></a>Analyze data on high-technology exports</h3><p>Load the file <code>techexports_gdp.csv</code> into Google Sheets, set up a header row and resize the columns as we did in Week 1. The data should look like this:</p><p><img src="img/class3_1.jpg" alt=""></p><h4 id="questions-to-ask-of-this-data"><a name="questions-to-ask-of-this-data" href="#questions-to-ask-of-this-data"></a>Questions to ask of this data</h4><p>Here are the questions that we will ask:</p><ul>
<li><p>Which countries exported the most high-technology goods, in cash terms, in the most recent year for which we have reasonably complete data?</p>
</li><li><p>Which countries exported the most high-technology goods, as a percentage of their GDP, in this year?</p>
</li></ul><h4 id="remove-cells-with-null-values"><a name="remove-cells-with-null-values" href="#remove-cells-with-null-values"></a>Remove cells with null values</h4><p>This data contains a lot of cells with null values. So before we start, let’s <strong>filter</strong> the data so we are considering only countries and years for which we have data for both GDP and technology and exports.</p><p>To <strong>filter</strong> a Google spreadsheet, select <code>Data&gt;Filter</code> from the top menu. This will set up a downward-pointing triangle, which can open a dropdown menu, in each column in the data:</p><p><img src="img/class3_2.jpg" alt=""></p><p>Call up the dropdown menu for the filter on column <code>D</code>, containing the data on technology exports, select <code>Filter by condition...&gt;Cell is not empty</code>, and click <code>OK</code>:</p><p><img src="img/class3_3.jpg" alt=""></p><p>(Alternatively, you could achieve the same result by unchecking the <code>(Blanks)</code> under <code>Filter by vaues...</code>.)</p><p>Repeat the <strong>filter</strong> for column <code>E</code>, containing the GDP data. The spreadsheet should now look like this:</p><p><img src="img/class3_4.jpg" alt=""></p><p>Click on the empty cell at top left, left of column <code>A</code> and above row <code>1</code>, to highlight all of the data. Copy all of the <strong>filtered</strong> data by clicking <code>⌘-C</code>, then click the <code>+</code> symbol at bottom left to add a new sheet. In the new sheet, click <code>⌘-V</code> to copy the filtered data to that location.</p><p>Go back to the original sheet by clicking on its tab at the bottom, and select <code>Data&gt;Turn off filter</code> from the top menu.</p><p>We will not do any more with this sheet, ensuring that we have a pristine copy of the data to go back and work from, if we make any mistakes. This is good practice in data journalism: Always keep a copy of the data that you have not edited in any way.</p><p>Go to the new sheet and create a header row as before. Call up the dropdown menu from the tab at the bottom, and call it <code>Working</code>. The data should now look like this:</p><p><img src="img/class3_5.jpg" alt=""></p><h4 id="format-numbers-in-billions-of-dollars"><a name="format-numbers-in-billions-of-dollars" href="#format-numbers-in-billions-of-dollars"></a>Format numbers in billions of dollars</h4><p>As we discussed in Week 1, large numbers are hard to read, so let’s create two new columns giving technology exports and GDP in billions of dollars.</p><p>Select the column with technology exports by clicking the <code>D</code>, then right-click and select <code>Insert 1 right</code>. Call this new column <code>Technology Exports ($ billion)</code>.</p><p>In the top cell of this column, beneath the header, type this formula to divide the dollar values by 1 billion:</p><pre class="sql hljs"><code class="SQL" data-origin="<pre><code class=&quot;SQL&quot;>=D2/1000000000
</code></pre>">=D2/1000000000
</code></pre><p>Move the cursor to the bottom-right corner of this cell, until it becauses a <code>+</code> symbol, then double-click. This will activate <code>autofill</code>, copying the formula down the column and running the calculation for each cell.</p><p>Notice as you move down the column that the cell being referenced in the formula (<em>fx</em>) bar changes so that the correct calculation is performed:</p><p><img src="img/class3_6.jpg" alt=""></p><p><strong><mark>Warning:</mark></strong> <code>autofill</code> only continues down a column if there is data in adjacent columns. If there are nulls, it will stop at that point. So always check that the calcuation has been performed for the entire column. If necessary, you may need to manually copy and paste the formula to ensure that this occurs.</p><p><mark><strong>Note:</strong></mark> If ever you need to perform a calculation down a column based on a number from a single cell, rather than moving through the cells in another column, you should “anchor” the calculation using dollar symbols: for example <code>$D$2</code>, rather than <code>D2</code>.</p><p>The number of figures after the decimal point is excessive and distracting. We don’t want to calculate rounded values, as we discussed in Week 1, because we are going to perform further calculations on it. Instead, we can change the formatted display, without changing the underlying data.</p><p>Highlight the new column by clicking on the letter <code>E</code>, then select <code>Format&gt;Number&gt;Number</code> to show the number rounded to two decimal places. (<code>Format&gt;More formats&gt;Custom number format...</code> allows you to format the number exactly as you wish.)</p><p><img src="img/class3_7.jpg" alt=""></p><p>To repeat the entire process for the GDP column, we can perform a shortcut, by copying and pasting the formula from cell <code>E2</code> into <code>G2</code>:</p><p><img src="img/class3_8.jpg" alt=""></p><p>Notice that now the formula refers to cell <code>F2</code>, rather than <code>D2</code>, because it has shifted two columns to the right. (Notice also that the formatting to two decimal places has copied across, too.) The way in which formulas copy down and across spreadsheets, changing the cells to which they refer, is central to the way the spreadsheets work, and will save you lots of time — as long as you keep a close watch on the the formulas and make sure at all times that the correct number is being calculated.</p><p>Again, use <code>autofill</code> to copy the formula down the spreadsheet. Resize the columns, and the data should look like this:</p><p><img src="img/class3_9.jpg" alt=""></p><h4 id="calculate-technology-exports-as-a-percentage-of-gdp"><a name="calculate-technology-exports-as-a-percentage-of-gdp" href="#calculate-technology-exports-as-a-percentage-of-gdp"></a>Calculate technology exports as a percentage of GDP</h4><p>Now, in column <code>H</code>, calculate the percentage of GDP represented by each country’s high-technology exports in each year. Call the column <code>Technology Exports (% GDP)</code> and then enter the following formula into the first cell:</p><pre class="sql hljs"><code class="SQL" data-origin="<pre><code class=&quot;SQL&quot;>=D2/F2
</code></pre>">=D2/F2
</code></pre><p>You may remember from Week 1 that the formula for a percentage also involves multiplying by 100. However, in a spreadsheet we can simply reformat a decimal number into a percentage, without performing that step. To do this, hit the <code>%</code> symbol under the top menu. Now <code>autofill</code> the column, and the data should look like this:</p><p><img src="img/class3_10.jpg" alt=""></p><p><mark><strong>Warning:</strong></mark> Sometimes when working in a spreadsheet you may choose to delete columns or cells that you have finished working with. If these are being used to in formulas to calculate other values, those values will be lost. So you may sometimes choose to replace formulas with the actual calculated values, to prevent this happening.</p><p>To do this for our last column of calculated values, select the entire column by clicking on the letter <code>H</code>, then copy the entire column by clicking <code>⌘-C</code>. Now select <code>Edit&gt;Paste special&gt;Paste values only</code> from the top menu, and notice that the formulas have been replaced by numbers:</p><p><img src="img/class3_10a.jpg" alt=""></p><p>Only ever replace your formalas with values if you are 100% confident that the calculations were correct!</p><h4 id="filter-for-the-most-recent-year-with-reasonably-complete-data"><a name="filter-for-the-most-recent-year-with-reasonably-complete-data" href="#filter-for-the-most-recent-year-with-reasonably-complete-data"></a>Filter for the most recent year with reasonably complete data</h4><p>Working with international data, you will soon learn that countries report their data to UN agencies with differing time lags. So simply picking the most recent year in the data may result in a fragmentary dataset.</p><p>Fortunately, there is a handy spreadsheet function that can tell us how many countries we have represented for each year in the data.</p><p>Type the following formula into the first cell of column <code>I</code>:</p><pre class="sql hljs"><code class="SQL" data-origin="<pre><code class=&quot;SQL&quot;>=COUNTIF(C:C, 2015)
</code></pre>">=COUNTIF(C:C, 2015)
</code></pre><p>This tells Google Sheets to look at the whole of column <code>C</code>, containing <code>Year</code>, and then <strong>aggregate</strong> the data by counting the number of cells for which the value is <code>2015</code>. This tells us that we have data for <code>63</code> countries in 2015.</p><p>In the cells below, run the calculation for other recent years:</p><pre class="sql hljs"><code class="SQL" data-origin="<pre><code class=&quot;SQL&quot;>=COUNTIF(C:C, 2014)
=COUNTIF(C:C, 2013)
=COUNTIF(C:C, 2012)
</code></pre>">=COUNTIF(C:C, 2014)
=COUNTIF(C:C, 2013)
=COUNTIF(C:C, 2012)
</code></pre><p>This should be the result:</p><p><img src="img/class3_11.jpg" alt=""></p><p>Clearly, 2015 is not a good choice if we want to see data for most countries. Which year you choose is a value judgement, but let’s go with 2014, for which we have data for 133 countries, as a trade-off between recency and completeness.</p><p>Delete the formulas from column <code>I</code>, select the entire sheet by clicking on the empty cell at top left between column <code>A</code> and row <code>1</code>, then select <code>Data&gt;Filter</code> to set up <strong>filter</strong> controls for the spreadsheet.</p><p>Open up the <strong>filter</strong> menu for column <code>C</code>, with the data for <code>Year</code>, click the <code>Clear</code> link to uncheck all the values, then scroll down and check <code>2014</code> only:</p><p><img src="img/class3_12.jpg" alt=""></p><p>Click <code>OK</code> to see the filtered data. Select it all, then copy and paste into a new worksheet, calling the sheet <code>2014</code>. Set up a header row, and the <strong>filtered</strong> data should look like this:</p><p><img src="img/class3_13.jpg" alt=""></p><h4 id="sort-the-sheet-to-answer-our-two-questions"><a name="sort-the-sheet-to-answer-our-two-questions" href="#sort-the-sheet-to-answer-our-two-questions"></a>Sort the sheet to answer our two questions</h4><p>Our first question was:</p><ul>
<li>Which countries exported the most high-technology goods, in cash terms, in the most recent year for which we have reasonably complete data?</li></ul><p>To answer this question, we need to <strong>sort</strong> the data in descending order by the values for <code>Technology Exports ($ billion)</code>. To do so, highlight all of the data in the sheet, and then select <code>Data&gt;Sort range...</code> and fill in the dialog box as follows, making sure to select the correct column:</p><p><img src="img/class3_14.jpg" alt=""></p><p>Google Sheets defines the direction of a <strong>sort</strong> in alphabetical terms. If you are sorting numbers or dates, remember that larger numbers, or later dates, are equivalent to letters nearer to the end of the alphabet. So to sort numbers in descending order, we need to sort from <code>Z → A</code>.</p><p>Click <code>Sort</code>, and this should be the result:</p><p><img src="img/class3_15.jpg" alt=""></p><p>It is no big surprise to see major industrial powerhouses like China, Germany, the United States, South Korea, France, and Japan in the top ten. Remember that what we are looking at here is exports, not the total of high-tech goods manufactured in each country. High-tech goods manaufactred in the United States, for example, may be more likely to be consumed on the domestic market in the United States than in China. To verify this, you would need to seek data on high-tech industrial production, rather than exports.</p><p>This ranking, and the dollar values for 2014 techology exports, are interesting and informative. If you wish, you can copy this view of the data into a new sheet to save it for future use.</p><p>However, the raw numbers don’t tell us much about how dependent each country’s economy is on high-tech exports.</p><p>For that, we need to answer our second question:</p><ul>
<li>Which countries exported the most high-technology goods, as a percentage of their GDP, in this year?</li></ul><p>That requires another <strong>sort</strong>, on the data in column <code>H</code>. This time we’ll see how to perform a sort without highlighting the entire sheet. Click on the letter <code>H</code> to highlight that column, then select <code>Data&gt;Sort sheet by column H, Z → A</code>.</p><p>This should be the result:</p><p><img src="img/class3_16.jpg" alt=""></p><p>Singapore, the tiny city-state with almost no natural resources, which has for many years made high-tech industry the bedrock of its economy, heads the list. But notice that recently emerging “Asian tigers,” in particular Malaysia and Vietnam, also rely heavily on high-tech exports.</p><p>If you were planning a story on high-tech international trade, these two <strong>sorts</strong> of the <strong>filtered</strong> data should provide a good springboard for further reporting.</p><h4 id="next-steps"><a name="next-steps" href="#next-steps"></a>Next steps</h4><p>There is plently more that you can do with this data to help formulate a reporting plan.</p><ul>
<li><p>If you are interested in particular countries, for instance, you may want see how the data for those countries has changed from year to year.</p>
</li><li><p>You may be interested in a patricular time period, such as the last decade, or since the turn of the century. Over these periods, which countries have seen the biggest percentage increase in their technology exports?</p>
</li><li><p>And which countries have seen the biggest proportional growth in exports, expressed as a percentage of their GDP?</p>
</li></ul><p>Think about how you would <strong>filter</strong>, <strong>sort</strong>, and <strong>aggregate</strong> the data to answer each of these these questions.</p><h3 id="analyze-data-on-the-gender-pay-gap"><a name="analyze-data-on-the-gender-pay-gap" href="#analyze-data-on-the-gender-pay-gap"></a>Analyze data on the gender pay gap</h3><p>Load the file <code>gender_pay.csv</code> into Google Sheets, set up a header row and resize the columns. The data should look like this:</p><p><img src="img/class3_17.jpg" alt=""></p><p>For each <code>Occupation</code> and <code>Year</code> we have columns for the median weekly earnings for both men and women, and the esimated number of male and female workers. The occupations are also grouped by types, at three different levels (<code>Type1</code>,<code>Type2</code>,<code>Type3</code>).</p><h4 id="questions-to-ask-of-this-data"><a name="questions-to-ask-of-this-data" href="#questions-to-ask-of-this-data"></a>Questions to ask of this data</h4><p>Here are the questions that we will ask of this data:</p><ul>
<li><p>Which occupations had the highest earnings in 2015, for men and for women?</p>
</li><li><p>Were there any occupations in which women earned more than men in 2015?</p>
</li><li><p>For which occupations was the gender pay gap proportionately greatest?</p>
</li></ul><h4 id="remove-cells-with-null-values"><a name="remove-cells-with-null-values" href="#remove-cells-with-null-values"></a>Remove cells with null values</h4><p>We can only calculate the gender pay gap where we have earnings data for both men and women. And as the Bureau of Labor Statistics <a href="http://www.bls.gov/cps/cpsaat39.htm">explains</a> in a footnote to the data tables, nothing is shown if the estimated number of workers is less than 50,000.</p><p>So let’s <strong>filter</strong> the data so we are considering only occupations and years for which we have data for both women and men. Select <code>Data&gt;Filter</code> from the top menu, then use the <strong>filter</strong> controls to uncheck <code>(Blanks)</code> for both median weekly earnings columns: women and men.</p><p>Copy the <strong>filtered</strong> data into a new sheet, set up a header row and rename the sheet as <code>Working</code>. The data should look like this:</p><p><img src="img/class3_18.jpg" alt=""></p><h4 id="calculate-the-gender-pay-gap"><a name="calculate-the-gender-pay-gap" href="#calculate-the-gender-pay-gap"></a>Calculate the gender pay gap</h4><p>Give column <code>J</code> a header of <code>Gender pay gap (%)</code>, and in the first cell type this formula:</p><pre class="sql hljs"><code class="SQL" data-origin="<pre><code class=&quot;SQL&quot;>=(D2-B2)/D2
</code></pre>">=(D2-B2)/D2
</code></pre><p>This formula subtracts women’s median weekly earnings from men’s median weekly earnings, and then divides the result by men’s median weekly earnings. That gives the gender pay gap, expressed as a decimal fraction of what men get paid.</p><p>Format this value as a percentage and <code>autofill</code> down the column. If women are paid <em>more</em> than men, the percentage will be a negative number.</p><p>The data should now look like this:</p><p><img src="img/class3_19.jpg" alt=""></p><h4 id="filter-the-data-to-show-2015-only"><a name="filter-the-data-to-show-2015-only" href="#filter-the-data-to-show-2015-only"></a>Filter the data to show 2015 only</h4><p>Set up <strong>filters</strong> for this sheet and use the <strong>filter</strong> control for the <code>Year</code> column to select the data for <code>2015</code>: Click the <code>Clear</code> link and then check <code>2015</code> only:</p><p><img src="img/class3_20.jpg" alt=""></p><p>Copy the <strong>filtered</strong> data into a new sheet, set up a header row and rename the sheet as <code>2015</code>. The data should look like this:</p><p><img src="img/class3_21.jpg" alt=""></p><h4 id="sort-the-sheet-to-answer-our-questions"><a name="sort-the-sheet-to-answer-our-questions" href="#sort-the-sheet-to-answer-our-questions"></a>Sort the sheet to answer our questions</h4><p>Our first question was:</p><ul>
<li>Which occupations had the highest earnings in 2015, for men and for women?</li></ul><p>This depends on two <strong>sorts</strong> of the data. Select column <code>D</code>, showing men’s median weekly earnings, and select <code>Data&gt;Sort sheet by column D, Z → A</code>. This should be the result:</p><p><img src="img/class3_22.jpg" alt=""></p><p>Repeat the process for column <code>B</code>, showing women’s median weekly earnings:</p><p><img src="img/class3_23.jpg" alt=""></p><p>Not surprisingly, the list of top-earning occupations is fairly similar for men and for women — although there are some differences, which may provide a starting point for further reporting.</p><p>Our second question was:</p><ul>
<li>Were there any occupations in which women earned more than men in 2015?</li></ul><p>Remember that column <code>J</code>, containing the gender pay gap calculations, will show negative percentages if women were paid more then men. So <strong>sort</strong> the sheet by this column in the opposite direction, from <code>A → Z</code>:</p><p><img src="img/class3_24.jpg" alt=""></p><p>Our last question was:</p><ul>
<li>For which occupations was the gender pay gap proportinately greatest?</li></ul><p>To answer this question, we need to <strong>sort</strong> the data using the same column in the opposite direction, from <code>Z → A</code>:</p><p><img src="img/class3_25.jpg" alt=""></p><p>Now we have a ranking of the occupations with the biggest gender pay gap, led by <code>Securities, commodities, and financial services sales agents</code>, when the gap was <code>47.5%</code> — meaning that women are paid 47.5% <em>less</em> than men. Putting that another way, the median earnings for women for this occupation was only slightly more than half the median earnings for men.</p><h4 id="next-steps"><a name="next-steps" href="#next-steps"></a>Next steps</h4><p>There is plenty more that you can do with this data. For example:</p><ul>
<li><p>Repeat the analysis for different years.</p>
</li><li><p>Which occupations have seen the greatest change in earnings from 2011 to 2015, for women and for men?</p>
</li><li><p>For which occupations has the gender pay gap narrowed? For which has it widened?</p>
</li><li><p>Are you interested in particular sectors, such as technology jobs? If so, you may want to restrict your analysis to those.</p>
</li></ul><p>Again, think about how you would <strong>filter</strong>, <strong>sort</strong>, and <strong>aggregate</strong> the data to answer each of these questions.</p><p><mark><strong>Warning:</strong></mark> This data has <em>not</em> been corrected for inflation, so if you want to run any analyses that compare earning data across different years, you will have to currect the values so that they are in a contant year’s dollars!</p><h3 id="analyze-data-on-fatal-and-injury-traffic-accidents-in-richmond"><a name="analyze-data-on-fatal-and-injury-traffic-accidents-in-richmond" href="#analyze-data-on-fatal-and-injury-traffic-accidents-in-richmond"></a>Analyze data on fatal and injury traffic accidents in Richmond</h3><p>Load the file <code>richmond_collisions.xls</code> into Google Sheets and set up a header row. The data should look like this:</p><p><img src="img/class3_26.jpg" alt=""></p><h4 id="questions-to-ask-of-this-data"><a name="questions-to-ask-of-this-data" href="#questions-to-ask-of-this-data"></a>Questions to ask of this data</h4><p>We will explore this data in more depth in Week 4, when we make charts and maps.</p><p>However, we will ask a single question of the data this week:</p><ul>
<li>How many deaths and injuries occured in each year, and for how many of these was alcohol involved?</li></ul><h4 id="calculate-the-number-of-people-killed-and-injured-in-each-collision"><a name="calculate-the-number-of-people-killed-and-injured-in-each-collision" href="#calculate-the-number-of-people-killed-and-injured-in-each-collision"></a>Calculate the number of people killed and injured in each collision</h4><p>The data contains separate columns for the number of people killed and injured in each collision. If we want a count of fatalities <em>and</em> injuries, we need to create a new variable, adding them together.</p><p>Selection column <code>K</code> with the numbers <code>INJURED</code>, right-click and select <code>Insert 1 right</code>. Call this new column <code>KILLED AND INJURED</code>, then type the following formula into the first cell and <code>autofill</code> down the column:</p><pre class="sql hljs"><code class="SQL" data-origin="<pre><code class=&quot;SQL&quot;>=J2+K2
</code></pre>">=J2+K2
</code></pre><h4 id="make-a-pivot-table-to-analyze-the-data-by-year-and-the-involvement-of-alcohol"><a name="make-a-pivot-table-to-analyze-the-data-by-year-and-the-involvement-of-alcohol" href="#make-a-pivot-table-to-analyze-the-data-by-year-and-the-involvement-of-alcohol"></a>Make a pivot table to analyze the data by year and the involvement of alcohol</h4><p><a href="https://en.wikipedia.org/wiki/Pivot_table"><strong>Pivot tables</strong></a> allow you to run calculations on your data, retabulating to group the data by two variables simultaneously, and calculate an <strong>aggregate</strong> measure for each group. In this case, we want to know the numbers of deaths and injuries each year, calculated separately for collisions involving and not involving alcohol.</p><p>To run this analysis, select <code>Data&gt;Pivot table</code> from the top menu. A new sheet should open:</p><p><img src="img/class3_27.jpg" alt=""></p><p>Click the <code>Add field</code> link for <code>Rows</code> and select <code>YEAR</code>. The table should now look like this:</p><p><img src="img/class3_28.jpg" alt=""></p><p>Now click the <code>Add field</code> link for <code>Columns</code> and select <code>ALCOHOL INVOLVED</code>. The table should now look like this:</p><p><img src="img/class3_29.jpg" alt=""></p><p>Finally, click the <code>Add field</code> link for <code>Values</code> and select <code>KILLED AND INJURED</code>. Notice that by default, the pivot table has <strong>aggregated</strong> the data using the function <code>SUM</code>, adding the numbers together for each year, creating separate totals for collisions involving alcohol or not. This is what we want in This case, but there is also a dropdown menu to select other <strong>aggregate</strong> measures of the data if required.</p><p>The pivot table should now look like this:</p><p><img src="img/class3_30.jpg" alt=""></p><p>Finally, in column <code>E</code> calculate the percentage of deaths and injuries in each year in collisions that involved alcohol, typing the following formula into the first cell (and formatting the result as a percentage):</p><pre class="sql hljs"><code class="SQL" data-origin="<pre><code class=&quot;SQL&quot;>=C2/D2
</code></pre>">=C2/D2
</code></pre><p>Copy the result down the column, and the table should look like this:</p><p><img src="img/class3_31.jpg" alt=""></p><h4 id="next-steps"><a name="next-steps" href="#next-steps"></a>Next steps</h4><p>The pivot table raises some questions that could help direct further reporting:</p><ul>
<li><p>Why did was the number of deaths and injuries so high in 2005, compared to all the other years?</p>
</li><li><p>And why were there so few alcohol-related deaths and injuries in 2010?</p>
</li></ul><p>It may be that these simply represent random fluctuations in the data from year to year. Or perhaps some changes in policing, or other factors, were involved. Further reporting would be required to investigate.</p><h3 id="assignment"><a name="assignment" href="#assignment"></a>Assignment</h3><h3 id="further-reading/viewing"><a name="further-reading/viewing" href="#further-reading/viewing"></a>Further reading/viewing</h3><p>Paul Bradshaw: <a href="https://leanpub.com/spreadsheetstories"><em>Finding Stories in Spreadsheets</em></a><br>More tips and tricks for using spreadsheets in journalism.</p>

<footer style="position:fixed; font-size:.8em; text-align:right; bottom:0px; margin-left:-25px; height:20px; width:100%;">generated by <a href="http://pad.haroopress.com" target="_blank">haroopad</a></footer>
</body>
</html>
